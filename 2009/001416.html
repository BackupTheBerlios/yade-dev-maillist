<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [deprecated list] [Yade-dev] [svn] r1911 - in trunk: . core core/containers gui/qt3 lib/base lib/factory lib/multimethods lib/serialization pkg/common/DataClass/BoundingVolume pkg/common/DataClass/GeometricalModel pkg/common/DataClass/InteractingGeometry pkg/common/DataClass/InteractionGeometry pkg/common/DataClass/InteractionPhysics pkg/common/DataClass/PhysicalParameters pkg/common/DataClass/Widgets pkg/common/Engine pkg/common/Engine/DeusExMachina pkg/common/Engine/EngineUnit pkg/common/Engine/FilterEngine pkg/common/Engine/MetaEngine pkg/common/Engine/StandAloneEngine pkg/common/RenderingEngine/GLDrawBoundingVolume pkg/common/RenderingEngine/GLDrawGeometricalModel pkg/common/RenderingEngine/GLDrawInteractingGeometry pkg/common/RenderingEngine/GLDrawInteractionGeometry pkg/common/RenderingEngine/GLDrawInteractionPhysics pkg/common/RenderingEngine/GLDrawShadowVolume pkg/common/RenderingEngine/GLDrawState pkg/common/RenderingEngine/GLDrawWidgets pkg/common/RenderingEngine/OpenGLRenderingEngine! pkg/dem/DataClass pkg/dem/DataClass/InteractingGeometry pkg/dem/DataClass/InteractionGeometry pkg/dem/DataClass/InteractionPhysics pkg/dem/DataClass/PhysicalParameters pkg/dem/Engine/DeusExMachina pkg/dem/Engine/EngineUnit pkg/dem/Engine/StandAloneEngine pkg/dem/PreProcessor pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction pkg/dem/RenderingEngine/GLDrawElasticContactInteraction pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction pkg/dem/meta pkg/fem/DataClass/GeometricalModel pkg/fem/DataClass/PhysicalParameters pkg/fem/Engine/EngineUnit pkg/fem/Engine/StandAloneEngine pkg/fem/PreProcessor pkg/lattice/DataClass/GeometricalModel pkg/lattice/DataClass/InteractingGeometry pkg/lattice/DataClass/InteractionPhysics pkg/lattice/DataClass/PhysicalParameters pkg/lattice/Engine/EngineUnit pkg/lattice/Engine/StandAloneEngine pkg/lattice/PreProcessor pkg/latt! ice/RenderingEngine/GLDrawLatticeBeamState pkg/lattice/Renderi! ngEngine
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/yade-dev/2009/index.html" >
   <LINK REL="made" HREF="mailto:yade-dev%40lists.berlios.de?Subject=Re%3A%20%5Bdeprecated%20list%5D%20%5BYade-dev%5D%20%5Bsvn%5D%20r1911%20-%20in%20trunk%3A%20.%20core%0A%20core/containers%20gui/qt3%20lib/base%20lib/factory%20lib/multimethods%0A%20lib/serialization%20pkg/common/DataClass/BoundingVolume%0A%20pkg/common/DataClass/GeometricalModel%0A%20pkg/common/DataClass/InteractingGeometry%0A%20pkg/common/DataClass/InteractionGeometry%0A%20pkg/common/DataClass/InteractionPhysics%0A%20pkg/common/DataClass/PhysicalParameters%20pkg/common/DataClass/Widgets%0A%20pkg/common/Engine%20pkg/common/Engine/DeusExMachina%0A%20pkg/common/Engine/EngineUnit%20pkg/common/Engine/FilterEngine%0A%20pkg/common/Engine/MetaEngine%20pkg/common/Engine/StandAloneEngine%0A%20pkg/common/RenderingEngine/GLDrawBoundingVolume%0A%20pkg/common/RenderingEngine/GLDrawGeometricalModel%0A%20pkg/common/RenderingEngine/GLDrawInteractingGeometry%0A%20pkg/common/RenderingEngine/GLDrawInteractionGeometry%0A%20pkg/common/RenderingEngine/GLDrawInteractionPhysics%0A%20pkg/common/RenderingEngine/GLDrawShadowVolume%0A%20pkg/common/RenderingEngine/GLDrawState%0A%20pkg/common/RenderingEngine/GLDrawWidgets%0A%20pkg/common/RenderingEngine/OpenGLRenderingEngine%21%20pkg/dem/DataClass%0A%20pkg/dem/DataClass/InteractingGeometry%20pkg/dem/DataClass/InteractionGeometry%0A%20pkg/dem/DataClass/InteractionPhysics%20pkg/dem/DataClass/PhysicalParameters%0A%20pkg/dem/Engine/DeusExMachina%20pkg/dem/Engine/EngineUnit%0A%20pkg/dem/Engine/StandAloneEngine%20pkg/dem/PreProcessor%0A%20pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction%0A%20pkg/dem/RenderingEngine/GLDrawElasticContactInteraction%0A%20pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron%0A%20pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry%0A%20pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction%20pkg/dem/meta%0A%20pkg/fem/DataClass/GeometricalModel%20pkg/fem/DataClass/PhysicalParameters%0A%20pkg/fem/Engine/EngineUnit%20pkg/fem/Engine/StandAloneEngine%0A%20pkg/fem/PreProcessor%20pkg/lattice/DataClass/GeometricalModel%0A%20pkg/lattice/DataClass/InteractingGeometry%0A%20pkg/lattice/DataClass/InteractionPhysics%0A%20pkg/lattice/DataClass/PhysicalParameters%20pkg/lattice/Engine/EngineUnit%0A%20pkg/lattice/Engine/StandAloneEngine%20pkg/lattice/PreProcessor%20pkg/latt%21%0A%20ice/RenderingEngine/GLDrawLatticeBeamState%20pkg/lattice/Renderi%21%20ngEngine&In-Reply-To=%3C200908031102.n73B2s0O027349%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001321.html">
   <LINK REL="Next"  HREF="001324.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[deprecated list] [Yade-dev] [svn] r1911 - in trunk: . core core/containers gui/qt3 lib/base lib/factory lib/multimethods lib/serialization pkg/common/DataClass/BoundingVolume pkg/common/DataClass/GeometricalModel pkg/common/DataClass/InteractingGeometry pkg/common/DataClass/InteractionGeometry pkg/common/DataClass/InteractionPhysics pkg/common/DataClass/PhysicalParameters pkg/common/DataClass/Widgets pkg/common/Engine pkg/common/Engine/DeusExMachina pkg/common/Engine/EngineUnit pkg/common/Engine/FilterEngine pkg/common/Engine/MetaEngine pkg/common/Engine/StandAloneEngine pkg/common/RenderingEngine/GLDrawBoundingVolume pkg/common/RenderingEngine/GLDrawGeometricalModel pkg/common/RenderingEngine/GLDrawInteractingGeometry pkg/common/RenderingEngine/GLDrawInteractionGeometry pkg/common/RenderingEngine/GLDrawInteractionPhysics pkg/common/RenderingEngine/GLDrawShadowVolume pkg/common/RenderingEngine/GLDrawState pkg/common/RenderingEngine/GLDrawWidgets pkg/common/RenderingEngine/OpenGLRenderingEngine! pkg/dem/DataClass pkg/dem/DataClass/InteractingGeometry pkg/dem/DataClass/InteractionGeometry pkg/dem/DataClass/InteractionPhysics pkg/dem/DataClass/PhysicalParameters pkg/dem/Engine/DeusExMachina pkg/dem/Engine/EngineUnit pkg/dem/Engine/StandAloneEngine pkg/dem/PreProcessor pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction pkg/dem/RenderingEngine/GLDrawElasticContactInteraction pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction pkg/dem/meta pkg/fem/DataClass/GeometricalModel pkg/fem/DataClass/PhysicalParameters pkg/fem/Engine/EngineUnit pkg/fem/Engine/StandAloneEngine pkg/fem/PreProcessor pkg/lattice/DataClass/GeometricalModel pkg/lattice/DataClass/InteractingGeometry pkg/lattice/DataClass/InteractionPhysics pkg/lattice/DataClass/PhysicalParameters pkg/lattice/Engine/EngineUnit pkg/lattice/Engine/StandAloneEngine pkg/lattice/PreProcessor pkg/latt! ice/RenderingEngine/GLDrawLatticeBeamState pkg/lattice/Renderi! ngEngine</H1>
    <B>eudoxos at BerliOS</B> 
    <A HREF="mailto:yade-dev%40lists.berlios.de?Subject=Re%3A%20%5Bdeprecated%20list%5D%20%5BYade-dev%5D%20%5Bsvn%5D%20r1911%20-%20in%20trunk%3A%20.%20core%0A%20core/containers%20gui/qt3%20lib/base%20lib/factory%20lib/multimethods%0A%20lib/serialization%20pkg/common/DataClass/BoundingVolume%0A%20pkg/common/DataClass/GeometricalModel%0A%20pkg/common/DataClass/InteractingGeometry%0A%20pkg/common/DataClass/InteractionGeometry%0A%20pkg/common/DataClass/InteractionPhysics%0A%20pkg/common/DataClass/PhysicalParameters%20pkg/common/DataClass/Widgets%0A%20pkg/common/Engine%20pkg/common/Engine/DeusExMachina%0A%20pkg/common/Engine/EngineUnit%20pkg/common/Engine/FilterEngine%0A%20pkg/common/Engine/MetaEngine%20pkg/common/Engine/StandAloneEngine%0A%20pkg/common/RenderingEngine/GLDrawBoundingVolume%0A%20pkg/common/RenderingEngine/GLDrawGeometricalModel%0A%20pkg/common/RenderingEngine/GLDrawInteractingGeometry%0A%20pkg/common/RenderingEngine/GLDrawInteractionGeometry%0A%20pkg/common/RenderingEngine/GLDrawInteractionPhysics%0A%20pkg/common/RenderingEngine/GLDrawShadowVolume%0A%20pkg/common/RenderingEngine/GLDrawState%0A%20pkg/common/RenderingEngine/GLDrawWidgets%0A%20pkg/common/RenderingEngine/OpenGLRenderingEngine%21%20pkg/dem/DataClass%0A%20pkg/dem/DataClass/InteractingGeometry%20pkg/dem/DataClass/InteractionGeometry%0A%20pkg/dem/DataClass/InteractionPhysics%20pkg/dem/DataClass/PhysicalParameters%0A%20pkg/dem/Engine/DeusExMachina%20pkg/dem/Engine/EngineUnit%0A%20pkg/dem/Engine/StandAloneEngine%20pkg/dem/PreProcessor%0A%20pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction%0A%20pkg/dem/RenderingEngine/GLDrawElasticContactInteraction%0A%20pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron%0A%20pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry%0A%20pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction%20pkg/dem/meta%0A%20pkg/fem/DataClass/GeometricalModel%20pkg/fem/DataClass/PhysicalParameters%0A%20pkg/fem/Engine/EngineUnit%20pkg/fem/Engine/StandAloneEngine%0A%20pkg/fem/PreProcessor%20pkg/lattice/DataClass/GeometricalModel%0A%20pkg/lattice/DataClass/InteractingGeometry%0A%20pkg/lattice/DataClass/InteractionPhysics%0A%20pkg/lattice/DataClass/PhysicalParameters%20pkg/lattice/Engine/EngineUnit%0A%20pkg/lattice/Engine/StandAloneEngine%20pkg/lattice/PreProcessor%20pkg/latt%21%0A%20ice/RenderingEngine/GLDrawLatticeBeamState%20pkg/lattice/Renderi%21%20ngEngine&In-Reply-To=%3C200908031102.n73B2s0O027349%40sheep.berlios.de%3E"
       TITLE="[deprecated list] [Yade-dev] [svn] r1911 - in trunk: . core core/containers gui/qt3 lib/base lib/factory lib/multimethods lib/serialization pkg/common/DataClass/BoundingVolume pkg/common/DataClass/GeometricalModel pkg/common/DataClass/InteractingGeometry pkg/common/DataClass/InteractionGeometry pkg/common/DataClass/InteractionPhysics pkg/common/DataClass/PhysicalParameters pkg/common/DataClass/Widgets pkg/common/Engine pkg/common/Engine/DeusExMachina pkg/common/Engine/EngineUnit pkg/common/Engine/FilterEngine pkg/common/Engine/MetaEngine pkg/common/Engine/StandAloneEngine pkg/common/RenderingEngine/GLDrawBoundingVolume pkg/common/RenderingEngine/GLDrawGeometricalModel pkg/common/RenderingEngine/GLDrawInteractingGeometry pkg/common/RenderingEngine/GLDrawInteractionGeometry pkg/common/RenderingEngine/GLDrawInteractionPhysics pkg/common/RenderingEngine/GLDrawShadowVolume pkg/common/RenderingEngine/GLDrawState pkg/common/RenderingEngine/GLDrawWidgets pkg/common/RenderingEngine/OpenGLRenderingEngine! pkg/dem/DataClass pkg/dem/DataClass/InteractingGeometry pkg/dem/DataClass/InteractionGeometry pkg/dem/DataClass/InteractionPhysics pkg/dem/DataClass/PhysicalParameters pkg/dem/Engine/DeusExMachina pkg/dem/Engine/EngineUnit pkg/dem/Engine/StandAloneEngine pkg/dem/PreProcessor pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction pkg/dem/RenderingEngine/GLDrawElasticContactInteraction pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction pkg/dem/meta pkg/fem/DataClass/GeometricalModel pkg/fem/DataClass/PhysicalParameters pkg/fem/Engine/EngineUnit pkg/fem/Engine/StandAloneEngine pkg/fem/PreProcessor pkg/lattice/DataClass/GeometricalModel pkg/lattice/DataClass/InteractingGeometry pkg/lattice/DataClass/InteractionPhysics pkg/lattice/DataClass/PhysicalParameters pkg/lattice/Engine/EngineUnit pkg/lattice/Engine/StandAloneEngine pkg/lattice/PreProcessor pkg/latt! ice/RenderingEngine/GLDrawLatticeBeamState pkg/lattice/Renderi! ngEngine">eudoxos at mail.berlios.de
       </A><BR>
    <I>Mon Aug  3 13:02:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001321.html">[deprecated list] [Yade-dev] [svn] r1910 - in trunk:	gui/py	pkg/common/Engine/DeusExMachina
</A></li>
        <LI>Next message: <A HREF="001324.html">[deprecated list] [Yade-dev] [svn] r1912 - in trunk: .	lib/factory	pkg/dem/DataClass/InteractionGeometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1416">[ date ]</a>
              <a href="thread.html#1416">[ thread ]</a>
              <a href="subject.html#1416">[ subject ]</a>
              <a href="author.html#1416">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: eudoxos
Date: 2009-08-03 13:02:11 +0200 (Mon, 03 Aug 2009)
New Revision: 1911

Modified:
   trunk/SConstruct
   trunk/core/BexContainer.hpp
   trunk/core/Body.cpp
   trunk/core/Body.hpp
   trunk/core/BodyContainer.cpp
   trunk/core/BodyContainer.hpp
   trunk/core/BoundingVolume.hpp
   trunk/core/DisplayParameters.hpp
   trunk/core/Engine.hpp
   trunk/core/EngineUnit.hpp
   trunk/core/FileGenerator.hpp
   trunk/core/GeometricalModel.hpp
   trunk/core/GroupRelationData.hpp
   trunk/core/InteractingGeometry.cpp
   trunk/core/InteractingGeometry.hpp
   trunk/core/Interaction.hpp
   trunk/core/InteractionContainer.hpp
   trunk/core/InteractionGeometry.hpp
   trunk/core/InteractionPhysics.hpp
   trunk/core/MetaBody.cpp
   trunk/core/Omega.cpp
   trunk/core/Omega.hpp
   trunk/core/PhysicalParameters.hpp
   trunk/core/Preferences.hpp
   trunk/core/containers/BodyAssocVector.cpp
   trunk/core/containers/BodyRedirectionVector.cpp
   trunk/core/containers/InteractionHashMap.cpp
   trunk/core/containers/InteractionVecMap.cpp
   trunk/gui/qt3/QtGUIPreferences.hpp
   trunk/gui/qt3/SimulationController.cpp
   trunk/gui/qt3/SimulationController.hpp
   trunk/gui/qt3/SnapshotEngine.cpp
   trunk/lib/base/yadeWm3Extra.hpp
   trunk/lib/factory/ClassFactory.hpp
   trunk/lib/multimethods/DynLibDispatcher.hpp
   trunk/lib/serialization/IOFormatManager.cpp
   trunk/lib/serialization/Serializable.hpp
   trunk/pkg/common/DataClass/BoundingVolume/AABB.cpp
   trunk/pkg/common/DataClass/BoundingVolume/AABB.hpp
   trunk/pkg/common/DataClass/BoundingVolume/BoundingSphere.cpp
   trunk/pkg/common/DataClass/GeometricalModel/Box.cpp
   trunk/pkg/common/DataClass/GeometricalModel/BshTube.cpp
   trunk/pkg/common/DataClass/GeometricalModel/Facet.cpp
   trunk/pkg/common/DataClass/GeometricalModel/Mesh2D.cpp
   trunk/pkg/common/DataClass/GeometricalModel/Quadrilateral.cpp
   trunk/pkg/common/DataClass/GeometricalModel/Sphere.cpp
   trunk/pkg/common/DataClass/GeometricalModel/Tetrahedron.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/BssSweptSphereLineSegment.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/InteractingBox.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/InteractingFacet.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/InteractingNode.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/InteractingSphere.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.cpp
   trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.hpp
   trunk/pkg/common/DataClass/InteractionGeometry/ClosestFeatures.cpp
   trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.cpp
   trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.hpp
   trunk/pkg/common/DataClass/PhysicalParameters/BcpConnection.cpp
   trunk/pkg/common/DataClass/PhysicalParameters/ElasticBodyParameters.cpp
   trunk/pkg/common/DataClass/PhysicalParameters/ParticleParameters.cpp
   trunk/pkg/common/DataClass/PhysicalParameters/RigidBodyParameters.cpp
   trunk/pkg/common/DataClass/Widgets/ColorScale.cpp
   trunk/pkg/common/Engine/DeusExMachina/DisplacementEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/DisplacementToForceEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/FixedOrientationEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/FixedPositionEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/ForceEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/GravityEngines.cpp
   trunk/pkg/common/Engine/DeusExMachina/JumpChangeSe3.cpp
   trunk/pkg/common/Engine/DeusExMachina/MomentEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/PressTestEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/RotationEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/Se3Interpolator.cpp
   trunk/pkg/common/Engine/DeusExMachina/StaticAttractionEngine.cpp
   trunk/pkg/common/Engine/DeusExMachina/TranslationEngine.cpp
   trunk/pkg/common/Engine/EngineUnit/CundallNonViscousDamping.cpp
   trunk/pkg/common/Engine/EngineUnit/ElasticBodySimpleRelationship.cpp
   trunk/pkg/common/Engine/EngineUnit/InteractingBox2AABB.cpp
   trunk/pkg/common/Engine/EngineUnit/InteractingFacet2AABB.cpp
   trunk/pkg/common/Engine/EngineUnit/InteractingSphere2AABB.cpp
   trunk/pkg/common/Engine/EngineUnit/LeapFrogOrientationIntegrator.cpp
   trunk/pkg/common/Engine/EngineUnit/LeapFrogPositionIntegrator.cpp
   trunk/pkg/common/Engine/EngineUnit/MetaInteractingGeometry2AABB.cpp
   trunk/pkg/common/Engine/EngineUnit/NewtonsForceLaw.cpp
   trunk/pkg/common/Engine/EngineUnit/NewtonsMomentumLaw.cpp
   trunk/pkg/common/Engine/EngineUnit/ef2_BshTube_BssSweptSphereLineSegment_makeBssSweptSphereLineSegment.cpp
   trunk/pkg/common/Engine/EngineUnit/ef2_BssSweptSphereLineSegment_AABB_makeAABB.cpp
   trunk/pkg/common/Engine/FilterEngine/ColorizedLayerFilter.cpp
   trunk/pkg/common/Engine/FilterEngine/ColorizedTimeFilter.cpp
   trunk/pkg/common/Engine/FilterEngine/ColorizedVelocityFilter.cpp
   trunk/pkg/common/Engine/FilterEngine/FilterEngine.hpp
   trunk/pkg/common/Engine/FilterEngine/PythonRunnerFilter.cpp
   trunk/pkg/common/Engine/MetaEngine/BoundingVolumeMetaEngine.cpp
   trunk/pkg/common/Engine/MetaEngine/ConstitutiveLawDispatcher.cpp
   trunk/pkg/common/Engine/MetaEngine/GeometricalModelMetaEngine.cpp
   trunk/pkg/common/Engine/MetaEngine/InteractingGeometryMetaEngine.cpp
   trunk/pkg/common/Engine/MetaEngine/InteractionDispatchers.cpp
   trunk/pkg/common/Engine/MetaEngine/InteractionGeometryMetaEngine.cpp
   trunk/pkg/common/Engine/MetaEngine/InteractionPhysicsMetaEngine.cpp
   trunk/pkg/common/Engine/MetaEngine/PhysicalActionApplier.cpp
   trunk/pkg/common/Engine/MetaEngine/PhysicalActionDamper.cpp
   trunk/pkg/common/Engine/MetaEngine/PhysicalParametersMetaEngine.cpp
   trunk/pkg/common/Engine/ParallelEngine.cpp
   trunk/pkg/common/Engine/StandAloneEngine/DistantPersistentSAPCollider.cpp
   trunk/pkg/common/Engine/StandAloneEngine/InsertionSortCollider.cpp
   trunk/pkg/common/Engine/StandAloneEngine/PeriodicPythonRunner.cpp
   trunk/pkg/common/Engine/StandAloneEngine/PersistentSAPCollider.cpp
   trunk/pkg/common/Engine/StandAloneEngine/PersistentTriangulationCollider.cpp
   trunk/pkg/common/Engine/StandAloneEngine/PhysicalActionContainerReseter.cpp
   trunk/pkg/common/Engine/StandAloneEngine/ResetPositionEngine.cpp
   trunk/pkg/common/Engine/StandAloneEngine/SpatialQuickSortCollider.cpp
   trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawAABB.cpp
   trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawBoundingSphere.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawBox.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawFacet.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawMesh2D.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawQuadrilateral.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.hpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTetrahedron.cpp
   trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTube.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawBssSweptSphereLineSegment.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingBox.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingFacet.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingSphere.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawMetaInteractingGeometry.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractionGeometry/GLDrawClosestFeatures.cpp
   trunk/pkg/common/RenderingEngine/GLDrawInteractionPhysics/GLDrawNormalInteraction.cpp
   trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawBoxShadowVolume.cpp
   trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawSphereShadowVolume.cpp
   trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawParticleState.cpp
   trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawRigidBodyState.cpp
   trunk/pkg/common/RenderingEngine/GLDrawWidgets/GLDrawColorScale.cpp
   trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.cpp
   trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.hpp
   trunk/pkg/dem/DataClass/Clump.cpp
   trunk/pkg/dem/DataClass/InteractingGeometry/InteractingMyTetrahedron.cpp
   trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_FacetSphere.cpp
   trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_SphereSphere.cpp
   trunk/pkg/dem/DataClass/InteractionGeometry/DemXDofGeom.cpp
   trunk/pkg/dem/DataClass/InteractionGeometry/InteractionOfMyTetrahedron.cpp
   trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.cpp
   trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.hpp
   trunk/pkg/dem/DataClass/InteractionPhysics/CohesiveFrictionalContactInteraction.cpp
   trunk/pkg/dem/DataClass/InteractionPhysics/ContactLaw1Interaction.cpp
   trunk/pkg/dem/DataClass/InteractionPhysics/ElasticContactInteraction.cpp
   trunk/pkg/dem/DataClass/InteractionPhysics/SDECLinkPhysics.cpp
   trunk/pkg/dem/DataClass/InteractionPhysics/ViscoelasticInteraction.cpp
   trunk/pkg/dem/DataClass/PhysicalParameters/BodyMacroParameters.cpp
   trunk/pkg/dem/DataClass/PhysicalParameters/CohesiveFrictionalBodyParameters.cpp
   trunk/pkg/dem/DataClass/PhysicalParameters/SimpleViscoelasticBodyParameters.cpp
   trunk/pkg/dem/Engine/DeusExMachina/CapillaryPressureEngine.cpp
   trunk/pkg/dem/Engine/DeusExMachina/CapillaryRecorder.cpp
   trunk/pkg/dem/Engine/DeusExMachina/CapillaryStressRecorder.cpp
   trunk/pkg/dem/Engine/DeusExMachina/ContactStressRecorder.cpp
   trunk/pkg/dem/Engine/DeusExMachina/FlowEngine.cpp
   trunk/pkg/dem/Engine/DeusExMachina/HydraulicForceEngine.cpp
   trunk/pkg/dem/Engine/DeusExMachina/StaticSpheresAttractionEngine.cpp
   trunk/pkg/dem/Engine/DeusExMachina/ThreeDTriaxialEngine.cpp
   trunk/pkg/dem/Engine/DeusExMachina/TriaxialCompressionEngine.cpp
   trunk/pkg/dem/Engine/DeusExMachina/TriaxialStateRecorder.cpp
   trunk/pkg/dem/Engine/DeusExMachina/TriaxialStressController.cpp
   trunk/pkg/dem/Engine/DeusExMachina/WallStressRecorder.cpp
   trunk/pkg/dem/Engine/EngineUnit/BasicViscoelasticRelationships.cpp
   trunk/pkg/dem/Engine/EngineUnit/CL1Relationships.cpp
   trunk/pkg/dem/Engine/EngineUnit/CohesiveFrictionalRelationships.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingBox2InteractingSphere4SpheresContactGeometry.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingFacet2InteractingSphere4SpheresContactGeometry.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2AABB.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingBox4InteractionOfMyTetrahedron.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingMyTetrahedron4InteractionOfMyTetrahedron.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2BssSweptSphereLineSegment4SpheresContactGeometry.cpp
   trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2InteractingSphere4SpheresContactGeometry.cpp
   trunk/pkg/dem/Engine/EngineUnit/MacroMicroElasticRelationships.cpp
   trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationships.cpp
   trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationshipsWater.cpp
   trunk/pkg/dem/Engine/EngineUnit/SimpleViscoelasticRelationships.cpp
   trunk/pkg/dem/Engine/EngineUnit/Tetrahedron2InteractingMyTetrahedron.cpp
   trunk/pkg/dem/Engine/EngineUnit/ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw.cpp
   trunk/pkg/dem/Engine/EngineUnit/ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/AveragePositionRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/CohesiveFrictionalContactLaw.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/ContactLaw1.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/ElasticCohesiveLaw.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/ElasticContactLaw.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/ElasticCriterionTimeStepper.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/FacetTopologyAnalyzer.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/ForceRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/GeometricalModelForceColorizer.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/GlobalStiffnessTimeStepper.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/MGPRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/MicroMacroAnalyser.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/MyTetrahedronLaw.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/NewtonsDampedLaw.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/PositionOrientationRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/RigidBodyRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/SQLiteRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/SimpleViscoelasticSpheresInteractionRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/UniaxialStrainer.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/VelocityRecorder.cpp
   trunk/pkg/dem/Engine/StandAloneEngine/VolumicContactLaw.cpp
   trunk/pkg/dem/PreProcessor/CohesiveTriaxialTest.cpp
   trunk/pkg/dem/PreProcessor/Funnel.cpp
   trunk/pkg/dem/PreProcessor/HydraulicTest.cpp
   trunk/pkg/dem/PreProcessor/MembraneTest.cpp
   trunk/pkg/dem/PreProcessor/ModifiedTriaxialTest.cpp
   trunk/pkg/dem/PreProcessor/SDECImpactTest.cpp
   trunk/pkg/dem/PreProcessor/SDECLinkedSpheres.cpp
   trunk/pkg/dem/PreProcessor/SDECMovingWall.cpp
   trunk/pkg/dem/PreProcessor/SDECSpheresPlane.cpp
   trunk/pkg/dem/PreProcessor/STLImporterTest.cpp
   trunk/pkg/dem/PreProcessor/SimpleScene.cpp
   trunk/pkg/dem/PreProcessor/TetraTestGen.cpp
   trunk/pkg/dem/PreProcessor/TetrahedronsTest.cpp
   trunk/pkg/dem/PreProcessor/ThreePointBending.cpp
   trunk/pkg/dem/PreProcessor/TriaxialTest.cpp
   trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp
   trunk/pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction/GLDrawCohesiveFrictionalContactInteraction.cpp
   trunk/pkg/dem/RenderingEngine/GLDrawElasticContactInteraction/GLDrawElasticContactInteraction.cpp
   trunk/pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron/GLDrawInteractingMyTetrahedron.cpp
   trunk/pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry/GLDrawSpheresContactGeometry.cpp
   trunk/pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction/GLDrawViscoelasticInteraction.cpp
   trunk/pkg/dem/meta/ConcretePM.cpp
   trunk/pkg/dem/meta/ConcretePM.hpp
   trunk/pkg/dem/meta/RockPM.cpp
   trunk/pkg/dem/meta/Tetra.cpp
   trunk/pkg/fem/DataClass/GeometricalModel/FEMSetGeometry.cpp
   trunk/pkg/fem/DataClass/PhysicalParameters/FEMNodeData.cpp
   trunk/pkg/fem/DataClass/PhysicalParameters/FEMSetParameters.cpp
   trunk/pkg/fem/DataClass/PhysicalParameters/FEMTetrahedronData.cpp
   trunk/pkg/fem/Engine/EngineUnit/FEMSet2Tetrahedrons.cpp
   trunk/pkg/fem/Engine/EngineUnit/FEMSetTextLoader.cpp
   trunk/pkg/fem/Engine/EngineUnit/FEMTetrahedronStiffness.cpp
   trunk/pkg/fem/Engine/StandAloneEngine/FEMLaw.cpp
   trunk/pkg/fem/PreProcessor/FEMBeam.cpp
   trunk/pkg/lattice/DataClass/GeometricalModel/LatticeSetGeometry.cpp
   trunk/pkg/lattice/DataClass/GeometricalModel/LineSegment.cpp
   trunk/pkg/lattice/DataClass/InteractingGeometry/LatticeInteractingGeometry.cpp
   trunk/pkg/lattice/DataClass/InteractionPhysics/LatticeBeamAngularSpring.cpp
   trunk/pkg/lattice/DataClass/InteractionPhysics/NonLocalDependency.cpp
   trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeBeamParameters.cpp
   trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeNodeParameters.cpp
   trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeSetParameters.cpp
   trunk/pkg/lattice/Engine/EngineUnit/LatticeSet2LatticeBeams.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/BeamRecorder.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/LatticeLaw.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/MeasurePoisson.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/MovingSupport.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/NodeRecorder.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/NonLocalInitializer.cpp
   trunk/pkg/lattice/Engine/StandAloneEngine/StrainRecorder.cpp
   trunk/pkg/lattice/PreProcessor/LatticeExample.cpp
   trunk/pkg/lattice/PreProcessor/LatticeExampleCTData.cpp
   trunk/pkg/lattice/PreProcessor/LatticeExampleSimple.cpp
   trunk/pkg/lattice/RenderingEngine/GLDrawLatticeBeamState/GLDrawLatticeBeamState.cpp
   trunk/pkg/lattice/RenderingEngine/GLDrawLatticeInteractingGeometry/GLDrawLatticeInteractingGeometry.cpp
   trunk/pkg/lattice/RenderingEngine/GLDrawLatticeSetGeometry/GLDrawLatticeSetGeometry.cpp
   trunk/pkg/lattice/RenderingEngine/GLDrawLineSegment/GLDrawLineSegment.cpp
   trunk/pkg/mass-spring/DataClass/InteractionGeometry/SpringGeometry.cpp
   trunk/pkg/mass-spring/DataClass/InteractionPhysics/SpringPhysics.cpp
   trunk/pkg/mass-spring/DataClass/PhysicalParameters/ParticleSetParameters.cpp
   trunk/pkg/mass-spring/Engine/EngineUnit/ParticleSet2Mesh2D.cpp
   trunk/pkg/mass-spring/Engine/StandAloneEngine/MassSpringLaw.cpp
   trunk/pkg/mass-spring/PreProcessor/HangingCloth.cpp
   trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingBox4ClosestFeatures.cpp
   trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingSphere4ClosestFeatures.cpp
   trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingSphere2InteractingSphere4ClosestFeatures.cpp
   trunk/pkg/realtime-rigidbody/Engine/StandAloneEngine/FrictionLessElasticContactLaw.cpp
   trunk/pkg/realtime-rigidbody/PreProcessor/BoxStack.cpp
   trunk/pkg/realtime-rigidbody/PreProcessor/RotatingBox.cpp
   trunk/pkg/snow/DataClass/BshSnowGrain.cpp
   trunk/pkg/snow/DataClass/BshSnowGrain.hpp
   trunk/pkg/snow/DataClass/BssSnowGrain.cpp
   trunk/pkg/snow/Engine/Ef2_BssSnowGrain_AABB_makeAABB.cpp
   trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeIstSnowLayersContact.cpp
   trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeSpheresContactGeometry.cpp
   trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeIstSnowLayersContact.cpp
   trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeSpheresContactGeometry.cpp
   trunk/pkg/snow/Engine/ElawSnowLayersDeformation.cpp
   trunk/pkg/snow/PreProcessor/SnowCreepTest.cpp
   trunk/pkg/snow/PreProcessor/SnowVoxelsLoader.cpp
   trunk/pkg/snow/RenderingEngine/Ef1_BshSnowGrain_glDraw.cpp
   trunk/pkg/snow/RenderingEngine/Ef1_BssSnowGrain_glDraw.cpp
   trunk/pkg/snow/RenderingEngine/Ef1_IstSnowLayersContact_glDraw.cpp
   trunk/py/yadeWrapper/yadeWrapper.cpp
   trunk/scripts/fix-plugin-names.py
Log:
1. Change syntax of YADE_PLUGIN(&quot;Plugin1&quot;,&quot;Plugin2&quot;) to YADE_PLUGIN((Plugin1)(Plugin2)) (replaced everywhere)
2. Add some perliminary and not-enabled by default support for boost::serialization (see ClassFactory.hpp)
3. Add boost::serialization code for Se3r, Vector2r, Vector2&lt;int&gt;, Quaternionr
4. Do not reset BexContainer's moves and rotations uselessly (i.e. if not used)
5. Use Omega's mutex in SimulationController to prevent loading-related crashes




Modified: trunk/SConstruct
===================================================================
--- trunk/SConstruct	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/SConstruct	2009-08-03 11:02:11 UTC (rev 1911)
@@ -381,7 +381,10 @@
 		LINKCOMSTR='L ${TARGET.file}',
 		INSTALLSTR='&#8658; $TARGET',
 		QT_UICCOMSTR='U ${SOURCES}',
-		QT_MOCCOMSTR='M ${SOURCES}')
+		QT_MOCCOMSTR='M ${SOURCES}',
+		QT_MOCFROMHCOMSTR='M ${SOURCES}',
+		QT_MOCFROMCXXCOMSTR='M ${SOURCES}',
+		)
 else:
 	env.Replace(INSTALLSTR='cp -f ${SOURCE} ${TARGET}')
 

Modified: trunk/core/BexContainer.hpp
===================================================================
--- trunk/core/BexContainer.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/BexContainer.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -128,15 +128,19 @@
 		// perhaps should be private and friend MetaBody or whatever the only caller should be
 		void reset(){
 			for(int thread=0; thread&lt;nThreads; thread++){
-				memset(_forceData [thread][0], 0,sizeof(Vector3r)*size);
+				memset(_forceData [thread][0],0,sizeof(Vector3r)*size);
 				memset(_torqueData[thread][0],0,sizeof(Vector3r)*size);
-				memset(_moveData  [thread][0],0,sizeof(Vector3r)*size);
-				memset(_rotData   [thread][0],0,sizeof(Vector3r)*size);
+				if(moveRotUsed){
+					memset(_moveData  [thread][0],0,sizeof(Vector3r)*size);
+					memset(_rotData   [thread][0],0,sizeof(Vector3r)*size);
+				}
 			}
 			memset(_force [0], 0,sizeof(Vector3r)*size);
 			memset(_torque[0], 0,sizeof(Vector3r)*size);
-			memset(_move  [0], 0,sizeof(Vector3r)*size);
-			memset(_rot   [0], 0,sizeof(Vector3r)*size);
+			if(moveRotUsed){
+				memset(_move  [0], 0,sizeof(Vector3r)*size);
+				memset(_rot   [0], 0,sizeof(Vector3r)*size);
+			}
 			synced=true; moveRotUsed=false;
 		}
 		//! say for how many threads we have allocated space
@@ -172,8 +176,11 @@
 		void reset(){
 			memset(_force [0],0,sizeof(Vector3r)*size);
 			memset(_torque[0],0,sizeof(Vector3r)*size);
-			memset(_move  [0],0,sizeof(Vector3r)*size);
-			memset(_rot   [0],0,sizeof(Vector3r)*size);
+			if(moveRotUsed){
+				memset(_move  [0],0,sizeof(Vector3r)*size);
+				memset(_rot   [0],0,sizeof(Vector3r)*size);
+				moveRotUsed=False;
+			}
 		}
 		//! No-op for API compatibility with the threaded version
 		void sync(){return;}

Modified: trunk/core/Body.cpp
===================================================================
--- trunk/core/Body.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Body.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,6 +20,9 @@
 const shared_ptr&lt;Body&gt;&amp; Body::byId(body_id_t _id, MetaBody* rb){return (*((rb?rb:Omega::instance().getRootBody().get())-&gt;bodies))[_id];}
 const shared_ptr&lt;Body&gt;&amp; Body::byId(body_id_t _id, shared_ptr&lt;MetaBody&gt; rb){return (*(rb-&gt;bodies))[_id];}
 
+#ifdef YADE_BOOST_SERIALIZATION
+	BOOST_CLASS_EXPORT(Body);
+#endif
 
 // we must initialize id = 0, otherwise BodyContainer will crash.
 Body::Body () : 

Modified: trunk/core/Body.hpp
===================================================================
--- trunk/core/Body.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Body.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -88,7 +88,7 @@
 
 		// Serialization
 	protected:
-		REGISTER_ATTRIBUTES(/*no base*/,
+		REGISTER_ATTRIBUTES(Serializable,
 			(id)
 			(groupMask)
 			(isDynamic)

Modified: trunk/core/BodyContainer.cpp
===================================================================
--- trunk/core/BodyContainer.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/BodyContainer.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -11,7 +11,11 @@
 #include &quot;BodyContainer.hpp&quot;
 #include &quot;Body.hpp&quot;
 
+#ifdef YADE_BOOST_SERIALIZATION
+	BOOST_CLASS_EXPORT(BodyContainer);
+#endif
 
+
 BodyContainer::BodyContainer()
 { 
 	body.clear();

Modified: trunk/core/BodyContainer.hpp
===================================================================
--- trunk/core/BodyContainer.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/BodyContainer.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -105,7 +105,7 @@
 	private :
 		vector&lt;shared_ptr&lt;Body&gt; &gt; body; 
 	public :
-		REGISTER_ATTRIBUTES(/*no base*/,(body));
+		REGISTER_ATTRIBUTES(Serializable,(body));
 	protected :
 		virtual void preProcessAttributes(bool deserializing);
 		virtual void postProcessAttributes(bool deserializing);

Modified: trunk/core/BoundingVolume.hpp
===================================================================
--- trunk/core/BoundingVolume.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/BoundingVolume.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -26,7 +26,7 @@
 				,max;			/// Maximum of the bounding volume
 		BoundingVolume(): diffuseColor(Vector3r(1,1,1)), min(Vector3r(0,0,0)), max(Vector3r(0,0,0)) {}
 
-	REGISTER_ATTRIBUTES(/*no base*/,(diffuseColor));
+	REGISTER_ATTRIBUTES(Serializable,(diffuseColor));
 	REGISTER_CLASS_AND_BASE(BoundingVolume,Serializable Indexable);
 	REGISTER_INDEX_COUNTER(BoundingVolume);
 };

Modified: trunk/core/DisplayParameters.hpp
===================================================================
--- trunk/core/DisplayParameters.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/DisplayParameters.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -21,7 +21,7 @@
 		void setValue(std::string displayType, std::string value){assert(values.size()==displayTypes.size()); vector&lt;string&gt;::iterator I=std::find(displayTypes.begin(),displayTypes.end(),displayType); if(I==displayTypes.end()){displayTypes.push_back(displayType); values.push_back(value);} else {values[std::distance(displayTypes.begin(),I)]=value;};}
 	DisplayParameters(){}
 	virtual ~DisplayParameters(){}
-	REGISTER_ATTRIBUTES(/*no base*/,(displayTypes)(values));
+	REGISTER_ATTRIBUTES(Serializable,(displayTypes)(values));
 	REGISTER_CLASS_AND_BASE(DisplayParameters,Serializable);
 };
 REGISTER_SERIALIZABLE(DisplayParameters);

Modified: trunk/core/Engine.hpp
===================================================================
--- trunk/core/Engine.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Engine.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -31,7 +31,7 @@
 		virtual void action(MetaBody*) { throw; };
 		/* returns all BodyExternalVariable's (Bex; formerly PhysicalActions) that this engine needs */
 		virtual list&lt;string&gt; getNeededBex(){return list&lt;string&gt;();}
-	REGISTER_ATTRIBUTES(/*no base*/,(label));
+	REGISTER_ATTRIBUTES(Serializable,(label));
 	REGISTER_CLASS_AND_BASE(Engine,Serializable);
 };
 REGISTER_SERIALIZABLE(Engine);

Modified: trunk/core/EngineUnit.hpp
===================================================================
--- trunk/core/EngineUnit.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/EngineUnit.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -22,7 +22,7 @@
 	// label to be able to retrieve an engine unit by its label
 	string label; 
 	REGISTER_CLASS_AND_BASE(EngineUnit,Serializable);
-	REGISTER_ATTRIBUTES(/* no base class attributes */,(label));
+	REGISTER_ATTRIBUTES(Serializable,(label));
 };
 
 REGISTER_SERIALIZABLE(EngineUnit);

Modified: trunk/core/FileGenerator.hpp
===================================================================
--- trunk/core/FileGenerator.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/FileGenerator.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -41,9 +41,8 @@
 	protected :
 	//! Returns whether the generation was successful; message for user is in FileGenerator::message
 	virtual bool generate();
-	virtual void postProcessAttributes(){};
 
-	REGISTER_ATTRIBUTES(/*no base*/,(outputFileName)(serializationDynlib));
+	REGISTER_ATTRIBUTES(Serializable,(outputFileName)(serializationDynlib));
 	DECLARE_LOGGER;
 	REGISTER_CLASS_AND_BASE(FileGenerator,Serializable);
 };

Modified: trunk/core/GeometricalModel.hpp
===================================================================
--- trunk/core/GeometricalModel.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/GeometricalModel.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -23,7 +23,7 @@
 		Vector3r	diffuseColor;
 		GeometricalModel(): highlight(false),wire(false),shadowCaster(false),diffuseColor(Vector3r(1,1,1)){}
 
-	REGISTER_ATTRIBUTES(/*no base*/,(highlight)(wire)(shadowCaster)(diffuseColor));
+	REGISTER_ATTRIBUTES(Serializable,(highlight)(wire)(shadowCaster)(diffuseColor));
 	REGISTER_CLASS_AND_BASE(GeometricalModel,Serializable Indexable);
 	REGISTER_INDEX_COUNTER(GeometricalModel);
 };

Modified: trunk/core/GroupRelationData.hpp
===================================================================
--- trunk/core/GroupRelationData.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/GroupRelationData.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -101,7 +101,7 @@
   void read(istream &amp; is);  
   void write(ostream &amp; os);
 
-  REGISTER_ATTRIBUTES(/*no base*/,(commands_));
+  REGISTER_ATTRIBUTES(Serializable,(commands_));
   REGISTER_CLASS_AND_BASE(GroupRelationData,Serializable);
  
   protected : virtual void preProcessAttributes  (bool deserializing);

Modified: trunk/core/InteractingGeometry.cpp
===================================================================
--- trunk/core/InteractingGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/InteractingGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -9,3 +9,4 @@
 *************************************************************************/
 
 #include &quot;InteractingGeometry.hpp&quot;
+

Modified: trunk/core/InteractingGeometry.hpp
===================================================================
--- trunk/core/InteractingGeometry.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/InteractingGeometry.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -34,11 +34,10 @@
 		#endif
 
 /// Serialization
-	REGISTER_ATTRIBUTES(/*no base*/,(diffuseColor));
+	REGISTER_ATTRIBUTES(Serializable,(diffuseColor));
 	REGISTER_CLASS_AND_BASE(InteractingGeometry,Serializable Indexable);
 /// Indexable
 	REGISTER_INDEX_COUNTER(InteractingGeometry);
 };
 REGISTER_SERIALIZABLE(InteractingGeometry);
 
-

Modified: trunk/core/Interaction.hpp
===================================================================
--- trunk/core/Interaction.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Interaction.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -68,7 +68,7 @@
 		//! common initialization called from both constructor and reset()
 		void init();
 			
-	REGISTER_ATTRIBUTES(/*no base*/,
+	REGISTER_ATTRIBUTES(Serializable,
 		(id1)
 		(id2)
 		(iterMadeReal)

Modified: trunk/core/InteractionContainer.hpp
===================================================================
--- trunk/core/InteractionContainer.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/InteractionContainer.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -165,7 +165,7 @@
 	protected :
 		virtual void preProcessAttributes(bool deserializing);
 		virtual void postProcessAttributes(bool deserializing);
-	REGISTER_ATTRIBUTES(/*no base*/,(interaction)(pendingErase)(serializeSorted));
+	REGISTER_ATTRIBUTES(Serializable,(interaction)(pendingErase)(serializeSorted));
 	REGISTER_CLASS_AND_BASE(InteractionContainer,Serializable);
 };
 

Modified: trunk/core/InteractionGeometry.hpp
===================================================================
--- trunk/core/InteractionGeometry.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/InteractionGeometry.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,7 +17,7 @@
 	REGISTER_CLASS_NAME(InteractionGeometry);
 	REGISTER_BASE_CLASS_NAME(Serializable Indexable);
 	REGISTER_INDEX_COUNTER(InteractionGeometry);
-	REGISTER_ATTRIBUTES(/* no base class*/,/*no attributes either*/); // keep this line here
+	REGISTER_ATTRIBUTES(Serializable,/*no attributes either*/); // keep this line here
 };
 
 REGISTER_SERIALIZABLE(InteractionGeometry);

Modified: trunk/core/InteractionPhysics.hpp
===================================================================
--- trunk/core/InteractionPhysics.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/InteractionPhysics.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,7 +17,7 @@
 	REGISTER_CLASS_NAME(InteractionPhysics);
 	REGISTER_BASE_CLASS_NAME(Serializable Indexable);
 	REGISTER_INDEX_COUNTER(InteractionPhysics);
-	REGISTER_ATTRIBUTES(/* no base for attributes */,/* no attributes either */);
+	REGISTER_ATTRIBUTES(Serializable,/* no attributes either */);
 };
 REGISTER_SERIALIZABLE(InteractionPhysics);
 

Modified: trunk/core/MetaBody.cpp
===================================================================
--- trunk/core/MetaBody.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/MetaBody.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -34,7 +34,7 @@
 bool TimingInfo::enabled=false;
 
 MetaBody::MetaBody() :
-	Body(),bodies(new BodyRedirectionVector), interactions(new InteractionVecMap), transientInteractions(interactions)
+	Body(), bodies(new BodyRedirectionVector), interactions(new InteractionVecMap), transientInteractions(interactions)
 {	
 	engines.clear();
 	initializers.clear();
@@ -47,6 +47,8 @@
 	isDynamic=false;
 	dt=1e-8;
 	selectedBody=-1;
+	// FIXME: move MetaInteractingGeometry to core and create it here right away
+	// interactingGeometry=shared_ptr&lt;InteractingGeometry&gt;(new MetaInteractingGeometry);
 
 	// fill default tags
 	struct passwd* pw;

Modified: trunk/core/Omega.cpp
===================================================================
--- trunk/core/Omega.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Omega.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -217,6 +217,7 @@
 void Omega::loadSimulationFromStream(std::istream&amp; stream){
 	LOG_DEBUG(&quot;Loading simulation from stream.&quot;);
 	resetRootBody();
+	RenderMutexLock lock;
 	IOFormatManager::loadFromStream(&quot;XMLFormatManager&quot;,stream,&quot;rootBody&quot;,rootBody);
 }
 
@@ -231,7 +232,6 @@
 	if(!filesystem::exists(simulationFileName) &amp;&amp; !algorithm::starts_with(simulationFileName,&quot;:memory&quot;)) throw runtime_error(&quot;Simulation file to load doesn't exist: &quot;+simulationFileName);
 	
 	LOG_INFO(&quot;Loading file &quot; + simulationFileName);
-
 	{
 		if(algorithm::ends_with(simulationFileName,&quot;.xml&quot;) || algorithm::ends_with(simulationFileName,&quot;.xml.gz&quot;) || algorithm::ends_with(simulationFileName,&quot;.xml.bz2&quot;)){
 			joinSimulationLoop(); // stop current simulation if running

Modified: trunk/core/Omega.hpp
===================================================================
--- trunk/core/Omega.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Omega.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -92,6 +92,9 @@
 		long tmpFileCounter;
 		std::string tmpFileDir;
 
+		// to avoid accessing simulation when it is being loaded (should avoid crashes with the UI)
+		boost::mutex loadingSimulationMutex;
+
 	public :
 		shared_ptr&lt;Preferences&gt; preferences;
 		string 				 yadeConfigPath;	// FIXME - must be private and more clean

Modified: trunk/core/PhysicalParameters.hpp
===================================================================
--- trunk/core/PhysicalParameters.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/PhysicalParameters.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -40,7 +40,7 @@
 		std::vector&lt;std::string&gt; blockedDOFs_vec_get() const;
 		void blockedDOFs_vec_set(const std::vector&lt;std::string&gt;&amp; dofs);
 
-	REGISTER_ATTRIBUTES(/*no base*/,(se3)(refSe3)(blockedDOFs));
+	REGISTER_ATTRIBUTES(Serializable,(se3)(refSe3)(blockedDOFs));
 	REGISTER_CLASS_AND_BASE(PhysicalParameters,Serializable Indexable);
 	REGISTER_INDEX_COUNTER(PhysicalParameters);
 };

Modified: trunk/core/Preferences.hpp
===================================================================
--- trunk/core/Preferences.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/Preferences.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,7 +19,7 @@
 	public :
 		string		 defaultGUILibName;
 		Preferences ();
-	REGISTER_ATTRIBUTES(/* no base class*/,(defaultGUILibName));
+	REGISTER_ATTRIBUTES(Serializable,(defaultGUILibName));
 	REGISTER_CLASS_AND_BASE(Preferences,Serializable);
 };
 REGISTER_SERIALIZABLE(Preferences);

Modified: trunk/core/containers/BodyAssocVector.cpp
===================================================================
--- trunk/core/containers/BodyAssocVector.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/containers/BodyAssocVector.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -216,4 +216,4 @@
 }
 
 
-YADE_PLUGIN(&quot;BodyAssocVector&quot;);
\ No newline at end of file
+YADE_PLUGIN((BodyAssocVector));
\ No newline at end of file

Modified: trunk/core/containers/BodyRedirectionVector.cpp
===================================================================
--- trunk/core/containers/BodyRedirectionVector.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/containers/BodyRedirectionVector.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -261,4 +261,4 @@
 }
 
 
-// YADE_PLUGIN(&quot;BodyRedirectionVector&quot;);
\ No newline at end of file
+// YADE_PLUGIN((BodyRedirectionVector));
\ No newline at end of file

Modified: trunk/core/containers/InteractionHashMap.cpp
===================================================================
--- trunk/core/containers/InteractionHashMap.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/containers/InteractionHashMap.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -167,4 +167,4 @@
 {
 	return interactions.size();
 }
-YADE_PLUGIN(&quot;InteractionHashMap&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractionHashMap));
\ No newline at end of file

Modified: trunk/core/containers/InteractionVecMap.cpp
===================================================================
--- trunk/core/containers/InteractionVecMap.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/core/containers/InteractionVecMap.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -196,4 +196,4 @@
 	return currentSize;
 }
 
-// YADE_PLUGIN(&quot;InteractionVecMap&quot;);
\ No newline at end of file
+// YADE_PLUGIN((InteractionVecMap));
\ No newline at end of file

Modified: trunk/gui/qt3/QtGUIPreferences.hpp
===================================================================
--- trunk/gui/qt3/QtGUIPreferences.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/gui/qt3/QtGUIPreferences.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -23,7 +23,7 @@
 		QtGUIPreferences ();
 
 /// Serialization										///
-	REGISTER_ATTRIBUTES(/* nothing */,(version)(mainWindowPositionX)(mainWindowPositionY)(mainWindowSizeX)(mainWindowSizeY));
+	REGISTER_ATTRIBUTES(Serializable,(version)(mainWindowPositionX)(mainWindowPositionY)(mainWindowSizeX)(mainWindowSizeY));
 	REGISTER_CLASS_AND_BASE(QtGUIPreferences,Serializable);
 };
 REGISTER_SERIALIZABLE(QtGUIPreferences);

Modified: trunk/gui/qt3/SimulationController.cpp
===================================================================
--- trunk/gui/qt3/SimulationController.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/gui/qt3/SimulationController.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -151,7 +151,6 @@
 #endif
 };
 
-
 void SimulationController::pbLoadClicked()
 {
 	pbStopClicked();
@@ -173,10 +172,11 @@
 {
 	assert(filesystem::exists(fileName) || fileName.find(&quot;:memory:&quot;)==(size_t)0);
 
+		deactivateControlsWhenLoading();
+
 		Omega::instance().finishSimulationLoop();
 		Omega::instance().joinSimulationLoop();
 
-
 		bool keepTimeStepperSettings=Omega::instance().getSimulationFileName()==fileName;
 		Real prevDt=Omega::instance().getTimeStep();
 		bool timeStepperUsed=Omega::instance().timeStepperActive();
@@ -207,34 +207,8 @@
 			else {
 				LOG_DEBUG(&quot;New simulation loaded, timestepper is &quot;&lt;&lt;(Omega::instance().timeStepperActive()?&quot;&quot;:&quot;NOT &quot;)&lt;&lt;&quot;being used (as per XML).&quot;);
 			}
-
-			//rbTimeStepper-&gt;setEnabled(Omega::instance().containTimeStepper());
-			//LOG_DEBUG(&quot;(Un)checking rbTimeStepper and rbFixed.&quot;);
-			//rbTimeStepper-&gt;setChecked(Omega::instance().timeStepperActive());
-			//rbFixed-&gt;setChecked(!Omega::instance().timeStepperActive());
-
-			#if 0
-			Real dt=Omega::instance().getTimeStep();
-			int exp10=(int)floor(log10(dt));
-			sbSecond-&gt;setValue((int)(dt/(pow(10.,exp10)))); // we may lose quite some precision here :-(
-			sb10PowerSecond-&gt;setValue(exp10);
-
-			changeSkipTimeStepper = true;
-			if (Omega::instance().containTimeStepper())
-			{
-				rbTimeStepper-&gt;setEnabled(true);
-				rbTimeStepper-&gt;setChecked(useTimeStepperIfPresent);
-				wasUsingTimeStepper = useTimeStepperIfPresent;
-			}
-			else
-			{
-				rbTimeStepper-&gt;setEnabled(false);
-				rbFixed-&gt;setChecked(true);
-				wasUsingTimeStepper = false;
-			}
-			skipTimeStepper=!wasUsingTimeStepper;
-			#endif
-		} 
+		}
+		 
 		catch(SerializableError&amp; e) // catching it...
 		{
 			Omega::instance().resetRootBody();
@@ -415,8 +389,37 @@
 	restartTimer();
 }
 
+void SimulationController::deactivateControlsWhenLoading(){
+	labelSimulTime-&gt;setText(string(&quot;&quot;));
+	labelRealTime-&gt;setText(string(&quot;&quot;));
+	labelIter-&gt;setText(string(&quot;&quot;));
+	labelStep-&gt;setText(string(&quot;&quot;));
+	labelEstimationTime-&gt;setText(string(&quot;&quot;));
+	labelStopAtIter-&gt;setText(string(&quot;&quot;));
+	tlCurrentSimulation-&gt;setText(&quot;[loading]&quot;);
+	pbStartSimulation-&gt;setEnabled(false);
+	pbStopSimulation-&gt;setEnabled(false);
+	pbResetSimulation-&gt;setEnabled(false);
+	pbOneSimulationStep-&gt;setEnabled(false);
+	rbFixed-&gt;setEnabled(false);
+	rbTimeStepper-&gt;setEnabled(false);
+	sbSecond-&gt;setEnabled(false);
+	sb10PowerSecond-&gt;setEnabled(false);
+}
 
+
 void SimulationController::doUpdate(){
+	#if BOOST_VERSION&lt;103500
+		boost::try_mutex::scoped_try_lock lock(Omega::instance().renderMutex);
+		if(!lock.locked()){
+	#else
+		boost::try_mutex::scoped_try_lock lock(Omega::instance().renderMutex,boost::defer_lock);
+		if(!lock.owns_lock()){
+	#endif
+		deactivateControlsWhenLoading();
+		return;
+	}
+	// if we got the lock, update controls as normally
 
 	Real simulationTime = Omega::instance().getSimulationTime();
 
@@ -454,41 +457,31 @@
 		labelRealTime-&gt;setText(string(strReal));
         
 	}
-    // update iterations per second - only one in a while (iterPerSec_TTL_ms)
-    // does someone need to display that with more precision than integer?
-    long iterPerSec_LastAgo_ms=(microsec_clock::local_time()-iterPerSec_LastLocalTime).total_milliseconds();
-    if(iterPerSec_LastAgo_ms&gt;iterPerSec_TTL_ms){
-        iterPerSec=(1000.*(Omega::instance().getCurrentIteration()-iterPerSec_LastIter))/iterPerSec_LastAgo_ms;
-        iterPerSec_LastIter=Omega::instance().getCurrentIteration();
-        iterPerSec_LastLocalTime=microsec_clock::local_time();
-    }
-    char strIter[64];
-    /* print 0 instead of bogus values (at startup) */
-    snprintf(strIter,64,&quot;iter #%ld, %.1f/s&quot;,Omega::instance().getCurrentIteration(),(iterPerSec&lt;1e9 &amp;&amp; iterPerSec&gt;0)?iterPerSec:0.);
-    labelIter-&gt;setText(strIter);
+	// update iterations per second - only one in a while (iterPerSec_TTL_ms)
+	// does someone need to display that with more precision than integer?
+	long iterPerSec_LastAgo_ms=(microsec_clock::local_time()-iterPerSec_LastLocalTime).total_milliseconds();
+	if(iterPerSec_LastAgo_ms&gt;iterPerSec_TTL_ms){
+		iterPerSec=(1000.*(Omega::instance().getCurrentIteration()-iterPerSec_LastIter))/iterPerSec_LastAgo_ms;
+		iterPerSec_LastIter=Omega::instance().getCurrentIteration();
+		iterPerSec_LastLocalTime=microsec_clock::local_time();
+	}
+	char strIter[64];
+	/* print 0 instead of bogus values (at startup) */
+	snprintf(strIter,64,&quot;iter #%ld, %.1f/s&quot;,Omega::instance().getCurrentIteration(),(iterPerSec&lt;1e9 &amp;&amp; iterPerSec&gt;0)?iterPerSec:0.);
+	labelIter-&gt;setText(strIter);
 
-    // update estimation time
-    char strEstimation[64];
-    if (Omega::instance().getRootBody()-&gt;stopAtIteration&gt;0 &amp;&amp; iterPerSec&gt;0 ) 
-        estimation=duration+time_duration(seconds((Omega::instance().getRootBody()-&gt;stopAtIteration-Omega::instance().getCurrentIteration())/iterPerSec));
-    snprintf(strEstimation,64,&quot;estimation %02d:%02d:%02d&quot;,estimation.hours(),estimation.minutes(),estimation.seconds());
-    labelEstimationTime-&gt;setText(strEstimation);
+   // update estimation time
+	char strEstimation[64];
+	if (Omega::instance().getRootBody()-&gt;stopAtIteration&gt;0 &amp;&amp; iterPerSec&gt;0 ) estimation=duration+time_duration(seconds((Omega::instance().getRootBody()-&gt;stopAtIteration-Omega::instance().getCurrentIteration())/iterPerSec));
+	snprintf(strEstimation,64,&quot;estimation %02d:%02d:%02d&quot;,estimation.hours(),estimation.minutes(),estimation.seconds());
+ 	labelEstimationTime-&gt;setText(strEstimation);
 
-    char strStopAtIter[64];
-    snprintf(strStopAtIter,64,&quot;stopAtIter #%ld&quot;,Omega::instance().getRootBody()-&gt;stopAtIteration);
-    labelStopAtIter-&gt;setText(strStopAtIter);
+	char strStopAtIter[64];
+	snprintf(strStopAtIter,64,&quot;stopAtIter #%ld&quot;,Omega::instance().getRootBody()-&gt;stopAtIteration);
+	labelStopAtIter-&gt;setText(strStopAtIter);
 
-	//boost::mutex::scoped_lock lock(timeMutex);
-
-	//if (changeSkipTimeStepper) Omega::instance().skipTimeStepper(skipTimeStepper);
-	//if (changeTimeStep) {
-	//	// wrap the mantissa around
-	//} else {
-	//}
-
 	if(sbRefreshTime-&gt;value()!=refreshTime) sbRefreshTime-&gt;setValue(refreshTime);
 
-
 	char strStep[64];
 	snprintf(strStep,64,&quot;step %g&quot;,(double)Omega::instance().getTimeStep());
 	labelStep-&gt;setText(string(strStep));
@@ -509,6 +502,7 @@
 	pbStopSimulation-&gt;setEnabled(hasSimulation &amp;&amp; isRunning);
 	pbResetSimulation-&gt;setEnabled(hasSimulation &amp;&amp; hasFileName);
 	pbOneSimulationStep-&gt;setEnabled(hasSimulation &amp;&amp; !isRunning);
+	rbFixed-&gt;setEnabled(true);
 	rbTimeStepper-&gt;setEnabled(hasTimeStepper);
 	sbSecond-&gt;setEnabled(!usesTimeStepper);
 	sb10PowerSecond-&gt;setEnabled(!usesTimeStepper);

Modified: trunk/gui/qt3/SimulationController.hpp
===================================================================
--- trunk/gui/qt3/SimulationController.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/gui/qt3/SimulationController.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -57,6 +57,7 @@
 	
 	public : 
 		void loadSimulationFromFileName(const std::string&amp; fileName,bool center=true);
+		void deactivateControlsWhenLoading();
 		bool changeSkipTimeStepper,skipTimeStepper,changeTimeStep,wasUsingTimeStepper;
 		SimulationController (QWidget * parent=NULL);
 		virtual ~SimulationController () {}; 

Modified: trunk/gui/qt3/SnapshotEngine.cpp
===================================================================
--- trunk/gui/qt3/SnapshotEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/gui/qt3/SnapshotEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -2,7 +2,7 @@
 #include&lt;sstream&gt;
 #include&lt;iomanip&gt;
 CREATE_LOGGER(SnapshotEngine);
-YADE_PLUGIN(&quot;SnapshotEngine&quot;);
+YADE_PLUGIN((SnapshotEngine));
 void SnapshotEngine::action(MetaBody* rb){
 	shared_ptr&lt;GLViewer&gt; glv;
 	if(!YadeQtMainWindow::self || ((size_t)viewNo&gt;=YadeQtMainWindow::self-&gt;glViews.size()) || !(glv=YadeQtMainWindow::self-&gt;glViews[viewNo])){

Modified: trunk/lib/base/yadeWm3Extra.hpp
===================================================================
--- trunk/lib/base/yadeWm3Extra.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/lib/base/yadeWm3Extra.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -122,24 +122,43 @@
 void quaternionToEulerAngles (const Quaternionr&amp; q, Vector3r&amp; eulerAngles,Real threshold=1e-6f);
 void quaterniontoGLMatrix(const Quaternionr&amp; q, Real m[16]);
 
+#include&lt;boost/serialization/nvp.hpp&gt;
 
-#include &lt;boost/archive/text_oarchive.hpp&gt;
-#include &lt;boost/archive/text_iarchive.hpp&gt;
-#include &lt;boost/archive/binary_oarchive.hpp&gt;
-#include &lt;boost/archive/binary_iarchive.hpp&gt;
-
-
 namespace boost {
 namespace serialization {
 
 template&lt;class Archive&gt;
+void serialize(Archive &amp; ar, Vector2r &amp; g, const unsigned int version){
+	Real &amp;x=g[0], &amp;y=g[1];
+	ar &amp; BOOST_SERIALIZATION_NVP(x) &amp; BOOST_SERIALIZATION_NVP(y);
+}
+
+template&lt;class Archive&gt;
+void serialize(Archive &amp; ar, Vector2&lt;int&gt; &amp; g, const unsigned int version){
+	int &amp;x=g[0], &amp;y=g[1];
+	ar &amp; BOOST_SERIALIZATION_NVP(x) &amp; BOOST_SERIALIZATION_NVP(y);
+}
+
+template&lt;class Archive&gt;
 void serialize(Archive &amp; ar, Vector3r &amp; g, const unsigned int version)
 {
-    ar &amp; g[0];
-    ar &amp; g[1];
-    ar &amp; g[2];
+	Real &amp;x=g[0], &amp;y=g[1], &amp;z=g[2];
+	ar &amp; BOOST_SERIALIZATION_NVP(x) &amp; BOOST_SERIALIZATION_NVP(y) &amp; BOOST_SERIALIZATION_NVP(z);
 }
 
+template&lt;class Archive&gt;
+void serialize(Archive &amp; ar, Quaternionr &amp; g, const unsigned int version)
+{
+	Real &amp;x=g[0], &amp;y=g[1], &amp;z=g[2], &amp;w=g[2];
+	ar &amp; BOOST_SERIALIZATION_NVP(x) &amp; BOOST_SERIALIZATION_NVP(y) &amp; BOOST_SERIALIZATION_NVP(z) &amp; BOOST_SERIALIZATION_NVP(w);
+}
+
+template&lt;class Archive&gt;
+void serialize(Archive &amp; ar, Se3r &amp; g, const unsigned int version){
+	Vector3r&amp; position=g.position; Quaternionr&amp; orientation=g.orientation;
+	ar &amp; BOOST_SERIALIZATION_NVP(position) &amp; BOOST_SERIALIZATION_NVP(orientation);
+}
+
 } // namespace serialization
 } // namespace boost
 

Modified: trunk/lib/factory/ClassFactory.hpp
===================================================================
--- trunk/lib/factory/ClassFactory.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/lib/factory/ClassFactory.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -26,13 +26,35 @@
 
 
 #include&lt;yade/lib-loki/Singleton.hpp&gt;
-#include&lt;boost/preprocessor/cat.hpp&gt;
+#include&lt;boost/preprocessor.hpp&gt;
 
 
 #include &quot;FactoryExceptions.hpp&quot;
 #include &quot;DynLibManager.hpp&quot;
 
+/*! define the following macro to enable experimenta boost::serialization support
+	Slows the compilation down about 10&#215;, and doesn't work.
+	Python wrapper defines O.saveXML('file.xml') to try it out.
+*/
+// #define YADE_BOOST_SERIALIZATION
 
+#ifdef YADE_BOOST_SERIALIZATION
+	//#include&lt;boost/archive/binary_oarchive.hpp&gt;
+	//#include&lt;boost/archive/binary_iarchive.hpp&gt;
+	#include&lt;boost/archive/xml_oarchive.hpp&gt;
+	#include&lt;boost/archive/xml_iarchive.hpp&gt;
+
+	#include&lt;boost/serialization/export.hpp&gt; // must come after all supported archive types
+
+	#include&lt;boost/serialization/base_object.hpp&gt;
+	#include&lt;boost/serialization/shared_ptr.hpp&gt;
+	#include&lt;boost/serialization/list.hpp&gt;
+	#include&lt;boost/serialization/vector.hpp&gt;
+	#include&lt;boost/serialization/map.hpp&gt;
+	#include&lt;boost/serialization/nvp.hpp&gt;
+#endif
+
+
 #define REGISTER_FACTORABLE(name) 						\
 	inline shared_ptr&lt; Factorable &gt; CreateShared##name()			\
 	{										\
@@ -154,13 +176,20 @@
 };
 
 
-/*! Macro defining what classes can be found in this plugin -- must always be used in the respective .cpp file. If left empty, filename will be used to deduce that.
+/*! Macro defining what classes can be found in this plugin -- must always be used in the respective .cpp file.
  *
- * Note:
- * 	1. Visibility must be set to &quot;internal&quot; (or &quot;protected&quot;) so that other plugins' init will not shadow this one and all of them get properly executed.
- * 	2. The function must be enclosed in its own anonymous namespace, otherwise there will be clashes (liker errors) if more files with YADE_PLUGIN are linked together.
+ * Note: __COUNTER__ generates unique function name for each plugin. This avoids name clashes, even if multiple .cpp files
+ * are compiled into one plugin.
  */
-#define YADE_PLUGIN(...) namespace{ __attribute__((constructor)) __attribute__((visibility(&quot;internal&quot;))) void BOOST_PP_CAT(registerThisPluginClasses,__COUNTER__) (void){ const char* info[]={__FILE__ , ##__VA_ARGS__ , NULL}; ClassFactory::instance().registerPluginClasses(info);} }
+
+#ifdef YADE_BOOST_SERIALIZATION
+	#define _YADE_PLUGIN_BOOST_REGISTER(x,y,z) BOOST_CLASS_EXPORT(z);
+#else
+	#define _YADE_PLUGIN_BOOST_REGISTER(x,y,z)
+#endif
+
+#define _YADE_PLUGIN_REPEAT(x,y,z) BOOST_PP_STRINGIZE(z),
+#define YADE_PLUGIN(plugins) namespace{ __attribute__((constructor)) void BOOST_PP_CAT(registerThisPluginClasses,__COUNTER__) (void){ const char* info[]={__FILE__ , BOOST_PP_SEQ_FOR_EACH(_YADE_PLUGIN_REPEAT,~,plugins) NULL}; ClassFactory::instance().registerPluginClasses(info);} } BOOST_PP_SEQ_FOR_EACH(_YADE_PLUGIN_BOOST_REGISTER,~,plugins)
 //! Macro informing build file generator what features that particular file depends on. Has no effect at compile-time. Can be specified multiple times within a single (.cpp) file
 #define YADE_REQUIRE_FEATURE(feature)
 

Modified: trunk/lib/multimethods/DynLibDispatcher.hpp
===================================================================
--- trunk/lib/multimethods/DynLibDispatcher.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/lib/multimethods/DynLibDispatcher.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -460,8 +460,10 @@
 		  {
 			index1 = base1-&gt;getClassIndex();
 			index2 = base2-&gt;getClassIndex();
-			assert( index1 &gt;= 0 &amp;&amp; (unsigned int)( index1 ) &lt; callBacks.size() &amp;&amp;
-				index2 &gt;= 0 &amp;&amp; (unsigned int)( index2 ) &lt; callBacks[index1].size() );
+			assert( index1 &gt;= 0 ); 
+			assert( index2 &gt;= 0 ); 
+			assert((unsigned int)( index1 ) &lt; callBacks.size());
+			assert((unsigned int)( index2 ) &lt; callBacks.size());
 				
 			if(callBacks[index1][index2])
 				return true;

Modified: trunk/lib/serialization/IOFormatManager.cpp
===================================================================
--- trunk/lib/serialization/IOFormatManager.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/lib/serialization/IOFormatManager.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -159,7 +159,7 @@
 
 	shared_ptr&lt;Archive&gt; tmpAc = Archive::create(ac.getName(),*s);
 	tmpAc-&gt;deserialize(stream, *tmpAc, str);
-	s-&gt;deserialize(ac.getAddress());
+	s-&gt;yadeDeserialize(ac.getAddress());
 
 	ac.markProcessed();
 }
@@ -167,7 +167,7 @@
 void IOFormatManager::serializeCustomClass(ostream&amp; stream, Archive&amp; ac,int depth)
 {
 	shared_ptr&lt;Serializable&gt; s = YADE_PTR_CAST&lt;Serializable&gt;(ClassFactory::instance().createShared(ac.getSerializableClassName()));
-	s-&gt;serialize(ac.getAddress());
+	s-&gt;yadeSerialize(ac.getAddress());
 	shared_ptr&lt;Archive&gt; tmpAc = Archive::create(ac.getName(),*s);
 	tmpAc-&gt;serialize(stream,*tmpAc,depth);
 	ac.markProcessed();
@@ -220,7 +220,7 @@
 	for(;si!=siEnd;++si,++arci)
 		(*arci)-&gt;deserialize(stream,*(*arci),(*si));
 
-	s-&gt;deserialize(ac.getAddress());
+	s-&gt;yadeDeserialize(ac.getAddress());
 	s-&gt;unregisterSerializableAttributes(true); // FIXME - make sure that it was a mistake that this line WAS MISSING.
 	ac.markProcessed();
 }
@@ -229,7 +229,7 @@
 void IOFormatManager::serializeCustomFundamental(ostream&amp; stream, Archive&amp; ac,int depth)
 {
 	shared_ptr&lt;Serializable&gt; ss = YADE_PTR_CAST&lt;Serializable&gt;(ClassFactory::instance().createShared(ac.getSerializableClassName()));
-	ss-&gt;serialize(ac.getAddress());
+	ss-&gt;yadeSerialize(ac.getAddress());
 	ss-&gt;registerSerializableAttributes(false);
 	Serializable::Archives archives = ss-&gt;getArchives();
 	Serializable::Archives::iterator archi = archives.begin();

Modified: trunk/lib/serialization/Serializable.hpp
===================================================================
--- trunk/lib/serialization/Serializable.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/lib/serialization/Serializable.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -34,6 +34,9 @@
 #include&quot;SerializationExceptions.hpp&quot;
 #include&quot;Archive.hpp&quot;
 
+
+
+
 using namespace boost;
 using namespace std;
 using namespace ArchiveTypes;
@@ -50,13 +53,22 @@
 	void registerAttributes(){}
 };
 
-#define _REGISTER_ATTRIBUTES_BODY(x,y,z) registerAttribute(BOOST_PP_STRINGIZE(z),z);
-#define REGISTER_ATTRIBUTES_MANY(attrs) BOOST_PP_SEQ_FOR_EACH(_REGISTER_ATTRIBUTES_BODY,~,attrs)
+#ifdef YADE_BOOST_SERIALIZATION
+	#define _REGISTER_BOOST_ATTRIBUTES_REPEAT(x,y,z) ar &amp; BOOST_SERIALIZATION_NVP(z);
+	#define _REGISTER_BOOST_ATTRIBUTES(baseClass,attrs) \
+		friend class boost::serialization::access; private: template&lt;class ArchiveT&gt; void serialize(ArchiveT &amp; ar, unsigned int version){ preProcessAttributes(ArchiveT::is_loading::value); ar &amp; BOOST_SERIALIZATION_BASE_OBJECT_NVP(baseClass); BOOST_PP_SEQ_FOR_EACH(_REGISTER_BOOST_ATTRIBUTES_REPEAT,~,attrs) postProcessAttributes(ArchiveT::is_loading::value); }
+#else
+	#define _REGISTER_BOOST_ATTRIBUTES(baseClass,attrs)
+#endif
+
+
+
+#define _REGISTER_ATTRIBUTES_REPEAT(x,y,z) registerAttribute(BOOST_PP_STRINGIZE(z),z);
 //! create member function that register attributes; must be parenthesized, without commas: (attr1) (attr2) (attr3) ...
 //#define REGISTER_ATTRIBUTES(attrs) protected: void registerAttributes(){ REGISTER_ATTRIBUTES_MANY(attrs) }
 //! Same as REGISTER_ATTRIBUTES, but with first argument of base class, of which registerAttributes will be called first
 #ifndef YADE_PYTHON
-	#define REGISTER_ATTRIBUTES(baseClass,attrs) protected: void registerAttributes(){ baseClass::registerAttributes(); REGISTER_ATTRIBUTES_MANY(attrs); }
+	#define REGISTER_ATTRIBUTES(baseClass,attrs) protected: void registerAttributes(){ baseClass::registerAttributes(); BOOST_PP_SEQ_FOR_EACH(_REGISTER_ATTRIBUTES_REPEAT,~,attrs) } _REGISTER_BOOST_ATTRIBUTES(baseClass,attrs)
 #else
 	#include&lt;boost/python.hpp&gt;
 
@@ -73,18 +85,13 @@
 	#define _PYKEYS_ATTR(x,y,z) ret.append(BOOST_PP_STRINGIZE(z));
 	#define _PYHASKEY_ATTR(x,y,z) if(key==BOOST_PP_STRINGIZE(z)) return true;
 	#define _PYDICT_ATTR(x,y,z) ret[BOOST_PP_STRINGIZE(z)]=boost::python::object(z);
-	#define PYGET_MANY(attrs) BOOST_PP_SEQ_FOR_EACH(_PYGET_ATTR,~,attrs)
-	#define PYSET_MANY(attrs) BOOST_PP_SEQ_FOR_EACH(_PYSET_ATTR,~,attrs)
-	#define PYKEYS_MANY(attrs) BOOST_PP_SEQ_FOR_EACH(_PYKEYS_ATTR,~,attrs)
-	#define PYHASKEY_MANY(attrs) BOOST_PP_SEQ_FOR_EACH(_PYHASKEY_ATTR,~,attrs)
-	#define PYDICT_MANY(attrs) BOOST_PP_SEQ_FOR_EACH(_PYDICT_ATTR,~,attrs)
 
-	#define REGISTER_ATTRIBUTES(baseClass,attrs) protected: void registerAttributes(){ baseClass::registerAttributes(); REGISTER_ATTRIBUTES_MANY(attrs); } \
-		public: boost::python::object pyGetAttr(const std::string&amp; key) const{ PYGET_MANY(attrs); return baseClass::pyGetAttr(key); } \
-		void pySetAttr(const std::string&amp; key, const boost::python::object&amp; value){ PYSET_MANY(attrs); baseClass::pySetAttr(key,value); } \
-		boost::python::list pyKeys() const { boost::python::list ret; PYKEYS_MANY(attrs); ret.extend(baseClass::pyKeys()); return ret; } \
-		bool pyHasKey(const std::string&amp; key) const { PYHASKEY_MANY(attrs); return baseClass::pyHasKey(key); } \
-		boost::python::dict pyDict() const { boost::python::dict ret; PYDICT_MANY(attrs); ret.update(baseClass::pyDict()); return ret; }
+	#define REGISTER_ATTRIBUTES(baseClass,attrs) protected: void registerAttributes(){ baseClass::registerAttributes(); BOOST_PP_SEQ_FOR_EACH(_REGISTER_ATTRIBUTES_REPEAT,~,attrs) } _REGISTER_BOOST_ATTRIBUTES(baseClass,attrs) \
+		public: boost::python::object pyGetAttr(const std::string&amp; key) const{ BOOST_PP_SEQ_FOR_EACH(_PYGET_ATTR,~,attrs); return baseClass::pyGetAttr(key); } \
+		void pySetAttr(const std::string&amp; key, const boost::python::object&amp; value){  BOOST_PP_SEQ_FOR_EACH(_PYSET_ATTR,~,attrs); baseClass::pySetAttr(key,value); } \
+		boost::python::list pyKeys() const { boost::python::list ret; BOOST_PP_SEQ_FOR_EACH(_PYKEYS_ATTR,~,attrs); ret.extend(baseClass::pyKeys()); return ret; } \
+		bool pyHasKey(const std::string&amp; key) const { BOOST_PP_SEQ_FOR_EACH(_PYHASKEY_ATTR,~,attrs); return baseClass::pyHasKey(key); } \
+		boost::python::dict pyDict() const { boost::python::dict ret; BOOST_PP_SEQ_FOR_EACH(_PYDICT_ATTR,~,attrs); ret.update(baseClass::pyDict()); return ret; }
 #endif
 
 
@@ -92,6 +99,7 @@
 #define REGISTER_SERIALIZABLE_GENERIC(name,isFundamental) 						\
 	REGISTER_FACTORABLE(name);								\
 	REGISTER_SERIALIZABLE_DESCRIPTOR(name,name,SerializableTypes::SERIALIZABLE,isFundamental);
+
 // implied non-fundamental
 #define REGISTER_SERIALIZABLE(name) REGISTER_SERIALIZABLE_GENERIC(name,false)
 // explicit fundamental
@@ -115,19 +123,20 @@
 		bool containsOnlyFundamentals();
 		Archives&amp; getArchives() 	{ return archives; };
 		
-		virtual void serialize(any&amp; )	{ throw SerializableError(SerializationExceptions::SetFunctionNotDeclared); };
-		virtual void deserialize(any&amp; ) { throw SerializableError(SerializationExceptions::GetFunctionNotDeclared); };
+		virtual void yadeSerialize(any&amp; )	{ throw SerializableError(SerializationExceptions::SetFunctionNotDeclared); };
+		virtual void yadeDeserialize(any&amp; ) { throw SerializableError(SerializationExceptions::GetFunctionNotDeclared); };
 
 		virtual void postProcessAttributes(bool /*deserializing*/) {};
 
+		// harmless even if boost::serialization is not used
+		template &lt;class ArchiveT&gt; void serialize(ArchiveT &amp; ar, unsigned int version){ };
+
 	#ifdef YADE_PYTHON
 		virtual boost::python::object pyGetAttr(const std::string&amp; key) const { return ::pyGetAttr(key); }
 		virtual void pySetAttr(const std::string&amp; key, const boost::python::object&amp; value){ ::pySetAttr(key,value); };
 		virtual boost::python::list pyKeys() const {return ::pyKeys(); };
 		virtual bool pyHasKey(const std::string&amp; key) const {return ::pyHasKey(key);}
 		virtual boost::python::dict pyDict() const { return ::pyDict(); }
-		// override for root classes only (those which have distinct python wrappers
-		virtual std::string pyRootClassName() const { return std::string(&quot;Serializable&quot;); }
 	#endif
 
 	private :

Modified: trunk/pkg/common/DataClass/BoundingVolume/AABB.cpp
===================================================================
--- trunk/pkg/common/DataClass/BoundingVolume/AABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/BoundingVolume/AABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -16,4 +16,5 @@
 {
 }
 
-YADE_PLUGIN(&quot;AABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((AABB));
+

Modified: trunk/pkg/common/DataClass/BoundingVolume/AABB.hpp
===================================================================
--- trunk/pkg/common/DataClass/BoundingVolume/AABB.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/BoundingVolume/AABB.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,15 +20,11 @@
 		virtual ~AABB();
 	
 /// Serialization
-	
-	REGISTER_CLASS_NAME(AABB);	
-	REGISTER_BASE_CLASS_NAME(BoundingVolume);
-
+	REGISTER_CLASS_AND_BASE(AABB,BoundingVolume);	
+	REGISTER_ATTRIBUTES(BoundingVolume,/* no attributes */);
 /// Indexable
-	
 	REGISTER_CLASS_INDEX(AABB,BoundingVolume);
 };
-
 REGISTER_SERIALIZABLE(AABB);
 
 

Modified: trunk/pkg/common/DataClass/BoundingVolume/BoundingSphere.cpp
===================================================================
--- trunk/pkg/common/DataClass/BoundingVolume/BoundingSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/BoundingVolume/BoundingSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -24,4 +24,5 @@
 // 	min = center-v;
 // 	max = center+v;	
 // }
-YADE_PLUGIN(&quot;BoundingSphere&quot;);
\ No newline at end of file
+YADE_PLUGIN((BoundingSphere));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/Box.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/Box.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/Box.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -8,4 +8,5 @@
 #include &quot;Box.hpp&quot;
 Box::Box () : GeometricalModel() { createIndex(); }
 Box::~Box (){}
-YADE_PLUGIN(&quot;Box&quot;);
\ No newline at end of file
+YADE_PLUGIN((Box));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/BshTube.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/BshTube.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/BshTube.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,4 +19,5 @@
 {		
 }
 
-YADE_PLUGIN(&quot;BshTube&quot;);
+YADE_PLUGIN((BshTube));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/Facet.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/Facet.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/Facet.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,5 @@
 {
 }
 
-YADE_PLUGIN(&quot;Facet&quot;);
\ No newline at end of file
+YADE_PLUGIN((Facet));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/Mesh2D.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/Mesh2D.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/Mesh2D.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -47,4 +47,5 @@
 
 
 
-YADE_PLUGIN(&quot;Mesh2D&quot;);
\ No newline at end of file
+YADE_PLUGIN((Mesh2D));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/Quadrilateral.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/Quadrilateral.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/Quadrilateral.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -31,4 +31,5 @@
 
 Quadrilateral::~Quadrilateral(){}
 
-YADE_PLUGIN(&quot;Quadrilateral&quot;);
\ No newline at end of file
+YADE_PLUGIN((Quadrilateral));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/Sphere.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/Sphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/Sphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,4 +19,5 @@
 }
 
 
-YADE_PLUGIN(&quot;Sphere&quot;);
\ No newline at end of file
+YADE_PLUGIN((Sphere));
+

Modified: trunk/pkg/common/DataClass/GeometricalModel/Tetrahedron.cpp
===================================================================
--- trunk/pkg/common/DataClass/GeometricalModel/Tetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/GeometricalModel/Tetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -30,4 +30,5 @@
 {
 }
 
-YADE_PLUGIN(&quot;Tetrahedron&quot;);
\ No newline at end of file
+YADE_PLUGIN((Tetrahedron));
+

Modified: trunk/pkg/common/DataClass/InteractingGeometry/BssSweptSphereLineSegment.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/BssSweptSphereLineSegment.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/BssSweptSphereLineSegment.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,4 +20,4 @@
 {		
 }
 
-YADE_PLUGIN(&quot;BssSweptSphereLineSegment&quot;);
+YADE_PLUGIN((BssSweptSphereLineSegment));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/InteractingGeometry/InteractingBox.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/InteractingBox.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/InteractingBox.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 {		
 }
 
-YADE_PLUGIN(&quot;InteractingBox&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingBox));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/InteractingGeometry/InteractingFacet.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/InteractingFacet.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/InteractingFacet.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -42,4 +42,4 @@
 		icr = e[0].Length()*ne[0].Dot(e[2])/p;
 	}
 }
-YADE_PLUGIN(&quot;InteractingFacet&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingFacet));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/InteractingGeometry/InteractingNode.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/InteractingNode.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/InteractingNode.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 }
 
 
-YADE_PLUGIN(&quot;InteractingNode&quot;);
+YADE_PLUGIN((InteractingNode));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/InteractingGeometry/InteractingSphere.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/InteractingSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/InteractingSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 }
 
 
-YADE_PLUGIN(&quot;InteractingSphere&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingSphere));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,4 +17,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;MetaInteractingGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((MetaInteractingGeometry));

Modified: trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.hpp
===================================================================
--- trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractingGeometry/MetaInteractingGeometry.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,13 +17,12 @@
 		virtual ~MetaInteractingGeometry ();
 
 /// Serialization
-	REGISTER_CLASS_NAME(MetaInteractingGeometry);
-	REGISTER_BASE_CLASS_NAME(InteractingGeometry);
-	
+	REGISTER_CLASS_AND_BASE(MetaInteractingGeometry,InteractingGeometry);
+	// FIXME: if this class is registered, MetaBody then has &quot;abstract&quot; InteractingGeometry, which fails in the functor (??)
+	REGISTER_ATTRIBUTES(InteractingGeometry,/* no attributes */);
 /// Indexable
 	REGISTER_CLASS_INDEX(MetaInteractingGeometry,InteractingGeometry);
 };
 
 REGISTER_SERIALIZABLE(MetaInteractingGeometry);
 
-

Modified: trunk/pkg/common/DataClass/InteractionGeometry/ClosestFeatures.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractionGeometry/ClosestFeatures.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractionGeometry/ClosestFeatures.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -28,4 +28,4 @@
 // }
 // 
 
-YADE_PLUGIN(&quot;ClosestFeatures&quot;);
\ No newline at end of file
+YADE_PLUGIN((ClosestFeatures));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.cpp
===================================================================
--- trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,5 +1,5 @@
 #include&quot;NormalShearInteractions.hpp&quot;
-YADE_PLUGIN(&quot;NormalInteraction&quot;,&quot;NormalShearInteraction&quot;);
+YADE_PLUGIN((NormalInteraction)(NormalShearInteraction));
 /* At least one virtual function must be in the shared object; let's put empty desctructors here
  * Otherwise downcasting via dynamic_cast will not work (no vtable in the shared lib?)
  */

Modified: trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.hpp
===================================================================
--- trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/InteractionPhysics/NormalShearInteractions.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -13,7 +13,7 @@
 		Vector3r normalForce;
 		NormalInteraction(): normalForce(Vector3r::ZERO) {createIndex(); }
 		virtual ~NormalInteraction();
-	REGISTER_ATTRIBUTES(/*no base class attributes*/,(kn)(normalForce));
+	REGISTER_ATTRIBUTES(Serializable,(kn)(normalForce));
 	REGISTER_CLASS_AND_BASE(NormalInteraction,InteractionPhysics);
 	REGISTER_CLASS_INDEX(NormalInteraction,InteractionPhysics);
 };

Modified: trunk/pkg/common/DataClass/PhysicalParameters/BcpConnection.cpp
===================================================================
--- trunk/pkg/common/DataClass/PhysicalParameters/BcpConnection.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/PhysicalParameters/BcpConnection.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,4 +20,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;BcpConnection&quot;);
+YADE_PLUGIN((BcpConnection));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/PhysicalParameters/ElasticBodyParameters.cpp
===================================================================
--- trunk/pkg/common/DataClass/PhysicalParameters/ElasticBodyParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/PhysicalParameters/ElasticBodyParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,4 +17,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;ElasticBodyParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((ElasticBodyParameters));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/PhysicalParameters/ParticleParameters.cpp
===================================================================
--- trunk/pkg/common/DataClass/PhysicalParameters/ParticleParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/PhysicalParameters/ParticleParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -23,4 +23,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;ParticleParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((ParticleParameters));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/PhysicalParameters/RigidBodyParameters.cpp
===================================================================
--- trunk/pkg/common/DataClass/PhysicalParameters/RigidBodyParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/PhysicalParameters/RigidBodyParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -22,4 +22,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;RigidBodyParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((RigidBodyParameters));
\ No newline at end of file

Modified: trunk/pkg/common/DataClass/Widgets/ColorScale.cpp
===================================================================
--- trunk/pkg/common/DataClass/Widgets/ColorScale.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/DataClass/Widgets/ColorScale.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -24,4 +24,4 @@
 }
 
 
-YADE_PLUGIN(&quot;ColorScale&quot;);
\ No newline at end of file
+YADE_PLUGIN((ColorScale));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/DisplacementEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/DisplacementEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/DisplacementEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -76,4 +76,4 @@
 
 }
 
-YADE_PLUGIN(&quot;DisplacementEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((DisplacementEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/DisplacementToForceEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/DisplacementToForceEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/DisplacementToForceEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -70,4 +70,4 @@
 		
 }
 
-YADE_PLUGIN(&quot;DisplacementToForceEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((DisplacementToForceEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/FixedOrientationEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/FixedOrientationEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/FixedOrientationEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -47,4 +47,4 @@
 //	}
 }
 
-YADE_PLUGIN(&quot;FixedOrientationEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((FixedOrientationEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/FixedPositionEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/FixedPositionEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/FixedPositionEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -28,4 +28,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;FixedPositionEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((FixedPositionEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/ForceEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/ForceEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/ForceEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -8,8 +8,7 @@
 #include&lt;yade/pkg-common/LinearInterpolate.hpp&gt;
 #include&lt;yade/pkg-dem/Shop.hpp&gt;
 
-YADE_PLUGIN(&quot;ForceEngine&quot;,&quot;InterpolatingDirectedForceEngine&quot;);
-
+YADE_PLUGIN((ForceEngine)(InterpolatingDirectedForceEngine));
 void ForceEngine::applyCondition(MetaBody* ncb){
 	FOREACH(body_id_t id, subscribedBodies){
 		assert(ncb-&gt;bodies-&gt;exists(id));

Modified: trunk/pkg/common/Engine/DeusExMachina/GravityEngines.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/GravityEngines.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/GravityEngines.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -10,9 +10,8 @@
 #include&lt;yade/pkg-common/ParticleParameters.hpp&gt;
 #include&lt;yade/core/MetaBody.hpp&gt;
 
-YADE_PLUGIN(&quot;GravityEngine&quot;,&quot;CentralGravityEngine&quot;,&quot;AxialGravityEngine&quot;);
+YADE_PLUGIN((GravityEngine)(CentralGravityEngine)(AxialGravityEngine));
 
-
 void GravityEngine::applyCondition(MetaBody* ncb){
 	/* skip bodies that are within a clump;
 	 * even if they are marked isDynamic==false, forces applied to them are passed to the clump, which is dynamic;

Modified: trunk/pkg/common/Engine/DeusExMachina/JumpChangeSe3.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/JumpChangeSe3.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/JumpChangeSe3.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,5 +1,4 @@
 // 2008 &#169; V&#225;clav &#352;milauer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/yade-dev">eudoxos at arcig.cz</A>&gt; 
 #include&quot;JumpChangeSe3.hpp&quot;
 CREATE_LOGGER(JumpChangeSe3);
-YADE_PLUGIN(&quot;JumpChangeSe3&quot;);
-
+YADE_PLUGIN((JumpChangeSe3));

Modified: trunk/pkg/common/Engine/DeusExMachina/MomentEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/MomentEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/MomentEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -40,4 +40,4 @@
         }
 }
 
-YADE_PLUGIN(&quot;MomentEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((MomentEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/PressTestEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/PressTestEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/PressTestEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -66,4 +66,4 @@
 }
 
 CREATE_LOGGER(PressTestEngine);
-YADE_PLUGIN(&quot;PressTestEngine&quot;);
+YADE_PLUGIN((PressTestEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/RotationEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/RotationEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/RotationEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -10,9 +10,8 @@
 
 #include&lt;yade/pkg-common/LinearInterpolate.hpp&gt;
 
-YADE_PLUGIN(&quot;RotationEngine&quot;,&quot;SpiralEngine&quot;,&quot;InterpolatingSpiralEngine&quot;);
+YADE_PLUGIN((RotationEngine)(SpiralEngine)(InterpolatingSpiralEngine));
 
-
 void InterpolatingSpiralEngine::applyCondition(MetaBody* rb){
 	Real virtTime=wrap ? Shop::periodicWrap(rb-&gt;simulationTime,*times.begin(),*times.rbegin()) : rb-&gt;simulationTime;
 	angularVelocity=linearInterpolate&lt;Real&gt;(virtTime,times,angularVelocities,_pos);

Modified: trunk/pkg/common/Engine/DeusExMachina/Se3Interpolator.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/Se3Interpolator.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/Se3Interpolator.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -2,8 +2,7 @@
 #include&quot;Se3Interpolator.hpp&quot;
 #include&lt;yade/pkg-common/PeriodicEngines.hpp&gt;
 
-YADE_PLUGIN(&quot;Se3Interpolator&quot;)
-CREATE_LOGGER(Se3Interpolator);
+YADE_PLUGIN((Se3Interpolator))CREATE_LOGGER(Se3Interpolator);
 
 void Se3Interpolator::applyCondition(MetaBody* mb){
 	assert(subscribedBodies.size()==1);

Modified: trunk/pkg/common/Engine/DeusExMachina/StaticAttractionEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/StaticAttractionEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/StaticAttractionEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -75,4 +75,4 @@
 			(*bi)-&gt;physicalParameters-&gt;se3.position+=moves[i++];
 }
 
-YADE_PLUGIN(&quot;StaticAttractionEngine&quot;);
+YADE_PLUGIN((StaticAttractionEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/DeusExMachina/TranslationEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/DeusExMachina/TranslationEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/DeusExMachina/TranslationEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -26,4 +26,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;TranslationEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((TranslationEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/CundallNonViscousDamping.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/CundallNonViscousDamping.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/CundallNonViscousDamping.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -4,8 +4,7 @@
 #include&lt;yade/pkg-common/RigidBodyParameters.hpp&gt;
 #include&quot;CundallNonViscousDamping.hpp&quot;
 
-YADE_PLUGIN(&quot;CundallNonViscousForceDamping&quot;,&quot;CundallNonViscousMomentumDamping&quot;);
-
+YADE_PLUGIN((CundallNonViscousForceDamping)(CundallNonViscousMomentumDamping));
 //! damping of force, for bodies that have only ParticleParameters
 void CundallNonViscousForceDamping::go(const shared_ptr&lt;PhysicalParameters&gt;&amp; pp, const Body* body, MetaBody* rb){
 	if(body-&gt;isClump()) return;

Modified: trunk/pkg/common/Engine/EngineUnit/ElasticBodySimpleRelationship.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/ElasticBodySimpleRelationship.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/ElasticBodySimpleRelationship.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -30,4 +30,4 @@
 };
 
 
-YADE_PLUGIN(&quot;ElasticBodySimpleRelationship&quot;);
\ No newline at end of file
+YADE_PLUGIN((ElasticBodySimpleRelationship));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/InteractingBox2AABB.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/InteractingBox2AABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/InteractingBox2AABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -32,4 +32,4 @@
 	aabb-&gt;max = aabb-&gt;center+aabb-&gt;halfSize;
 }
 	
-YADE_PLUGIN(&quot;InteractingBox2AABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingBox2AABB));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/InteractingFacet2AABB.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/InteractingFacet2AABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/InteractingFacet2AABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -31,4 +31,4 @@
 	aabb-&gt;center = aabb-&gt;min + aabb-&gt;halfSize;
 }
 	
-YADE_PLUGIN(&quot;InteractingFacet2AABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingFacet2AABB));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/InteractingSphere2AABB.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/InteractingSphere2AABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/InteractingSphere2AABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,4 +20,4 @@
 	aabb-&gt;max = aabb-&gt;center+aabb-&gt;halfSize;	
 }
 	
-YADE_PLUGIN(&quot;InteractingSphere2AABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingSphere2AABB));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/LeapFrogOrientationIntegrator.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/LeapFrogOrientationIntegrator.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/LeapFrogOrientationIntegrator.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -50,4 +50,4 @@
 // 	firsts[id] = false;
 }
 
-YADE_PLUGIN(&quot;LeapFrogOrientationIntegrator&quot;);
\ No newline at end of file
+YADE_PLUGIN((LeapFrogOrientationIntegrator));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/LeapFrogPositionIntegrator.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/LeapFrogPositionIntegrator.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/LeapFrogPositionIntegrator.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -45,4 +45,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LeapFrogPositionIntegrator&quot;);
\ No newline at end of file
+YADE_PLUGIN((LeapFrogPositionIntegrator));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/MetaInteractingGeometry2AABB.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/MetaInteractingGeometry2AABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/MetaInteractingGeometry2AABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -51,4 +51,4 @@
 	aabb-&gt;max = max;
 }
 	
-YADE_PLUGIN(&quot;MetaInteractingGeometry2AABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((MetaInteractingGeometry2AABB));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/NewtonsForceLaw.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/NewtonsForceLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/NewtonsForceLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -33,4 +33,4 @@
 }
 
 
-YADE_PLUGIN(&quot;NewtonsForceLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((NewtonsForceLaw));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/NewtonsMomentumLaw.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/NewtonsMomentumLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/NewtonsMomentumLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -31,4 +31,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;NewtonsMomentumLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((NewtonsMomentumLaw));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/ef2_BshTube_BssSweptSphereLineSegment_makeBssSweptSphereLineSegment.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/ef2_BshTube_BssSweptSphereLineSegment_makeBssSweptSphereLineSegment.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/ef2_BshTube_BssSweptSphereLineSegment_makeBssSweptSphereLineSegment.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -34,4 +34,4 @@
   
 }
 	
-YADE_PLUGIN(&quot;ef2_BshTube_BssSweptSphereLineSegment_makeBssSweptSphereLineSegment&quot;);
+YADE_PLUGIN((ef2_BshTube_BssSweptSphereLineSegment_makeBssSweptSphereLineSegment));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/EngineUnit/ef2_BssSweptSphereLineSegment_AABB_makeAABB.cpp
===================================================================
--- trunk/pkg/common/Engine/EngineUnit/ef2_BssSweptSphereLineSegment_AABB_makeAABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/EngineUnit/ef2_BssSweptSphereLineSegment_AABB_makeAABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -25,4 +25,4 @@
         aabb-&gt;max = aabb-&gt;center + aabb-&gt;halfSize; 
 }
 	
-YADE_PLUGIN(&quot;ef2_BssSweptSphereLineSegment_AABB_makeAABB&quot;);
+YADE_PLUGIN((ef2_BssSweptSphereLineSegment_AABB_makeAABB));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/FilterEngine/ColorizedLayerFilter.cpp
===================================================================
--- trunk/pkg/common/Engine/FilterEngine/ColorizedLayerFilter.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/FilterEngine/ColorizedLayerFilter.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -53,4 +53,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;ColorizedLayerFilter&quot;);
\ No newline at end of file
+YADE_PLUGIN((ColorizedLayerFilter));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/FilterEngine/ColorizedTimeFilter.cpp
===================================================================
--- trunk/pkg/common/Engine/FilterEngine/ColorizedTimeFilter.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/FilterEngine/ColorizedTimeFilter.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -158,4 +158,4 @@
 }
 
 
-YADE_PLUGIN(&quot;ColorizedTimeFilter&quot;);
\ No newline at end of file
+YADE_PLUGIN((ColorizedTimeFilter));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/FilterEngine/ColorizedVelocityFilter.cpp
===================================================================
--- trunk/pkg/common/Engine/FilterEngine/ColorizedVelocityFilter.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/FilterEngine/ColorizedVelocityFilter.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -155,4 +155,4 @@
 }
 
 
-YADE_PLUGIN(&quot;ColorizedVelocityFilter&quot;);
\ No newline at end of file
+YADE_PLUGIN((ColorizedVelocityFilter));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/FilterEngine/FilterEngine.hpp
===================================================================
--- trunk/pkg/common/Engine/FilterEngine/FilterEngine.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/FilterEngine/FilterEngine.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,10 +20,8 @@
 		bool isActivated(MetaBody*);
 
 		FilterEngine();
-	
-	REGISTER_ATTRIBUTES(FilterEngine,(isFilterActivated));
-	REGISTER_CLASS_NAME(FilterEngine);
-	REGISTER_BASE_CLASS_NAME(DeusExMachina);
+	REGISTER_ATTRIBUTES(DeusExMachina,(isFilterActivated));
+	REGISTER_CLASS_AND_BASE(FilterEngine,DeusExMachina);
 };
 REGISTER_SERIALIZABLE(FilterEngine);
 

Modified: trunk/pkg/common/Engine/FilterEngine/PythonRunnerFilter.cpp
===================================================================
--- trunk/pkg/common/Engine/FilterEngine/PythonRunnerFilter.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/FilterEngine/PythonRunnerFilter.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,3 +1,3 @@
 #include&quot;PythonRunnerFilter.hpp&quot;
-YADE_PLUGIN(&quot;PythonRunnerFilter&quot;);
+YADE_PLUGIN((PythonRunnerFilter));
 YADE_REQUIRE_FEATURE(PYTHON)

Modified: trunk/pkg/common/Engine/MetaEngine/BoundingVolumeMetaEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/BoundingVolumeMetaEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/BoundingVolumeMetaEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -56,4 +56,4 @@
 
 
 
-YADE_PLUGIN(&quot;BoundingVolumeMetaEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((BoundingVolumeMetaEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/ConstitutiveLawDispatcher.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/ConstitutiveLawDispatcher.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/ConstitutiveLawDispatcher.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,7 +1,6 @@
 // 2009 &#169; V&#225;clav &#352;milauer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/yade-dev">eudoxos at arcig.cz</A>&gt;
 #include &quot;ConstitutiveLawDispatcher.hpp&quot;
-YADE_PLUGIN(&quot;ConstitutiveLawDispatcher&quot;);
-
+YADE_PLUGIN((ConstitutiveLawDispatcher));
 void ConstitutiveLawDispatcher::action(MetaBody* rootBody){
 	#ifdef YADE_OPENMP
 		const long size=rootBody-&gt;transientInteractions-&gt;size();

Modified: trunk/pkg/common/Engine/MetaEngine/GeometricalModelMetaEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/GeometricalModelMetaEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/GeometricalModelMetaEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -26,4 +26,4 @@
 	 	operator()(ncb-&gt;physicalParameters,ncb-&gt;geometricalModel,ncb);
 }
 
-YADE_PLUGIN(&quot;GeometricalModelMetaEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((GeometricalModelMetaEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/InteractingGeometryMetaEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/InteractingGeometryMetaEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/InteractingGeometryMetaEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -25,4 +25,4 @@
 		operator()(ncb-&gt;geometricalModel,ncb-&gt;interactingGeometry,ncb-&gt;physicalParameters-&gt;se3,ncb);
 }
 
-YADE_PLUGIN(&quot;InteractingGeometryMetaEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingGeometryMetaEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/InteractionDispatchers.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/InteractionDispatchers.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/InteractionDispatchers.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,6 +1,6 @@
 #include&quot;InteractionDispatchers.hpp&quot;
 
-YADE_PLUGIN(&quot;InteractionDispatchers&quot;);
+YADE_PLUGIN((InteractionDispatchers));
 CREATE_LOGGER(InteractionDispatchers);
 
 // #define IDISP_TIMING

Modified: trunk/pkg/common/Engine/MetaEngine/InteractionGeometryMetaEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/InteractionGeometryMetaEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/InteractionGeometryMetaEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -69,4 +69,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;InteractionGeometryMetaEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractionGeometryMetaEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/InteractionPhysicsMetaEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/InteractionPhysicsMetaEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/InteractionPhysicsMetaEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -43,4 +43,4 @@
 		}
 }
 
-YADE_PLUGIN(&quot;InteractionPhysicsMetaEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractionPhysicsMetaEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/PhysicalActionApplier.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/PhysicalActionApplier.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/PhysicalActionApplier.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -15,4 +15,4 @@
 		operator()(b-&gt;physicalParameters,b.get(),ncb);
 	}
 }
-YADE_PLUGIN(&quot;PhysicalActionApplier&quot;);
\ No newline at end of file
+YADE_PLUGIN((PhysicalActionApplier));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/PhysicalActionDamper.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/PhysicalActionDamper.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/PhysicalActionDamper.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,4 +17,4 @@
 		operator()(b-&gt;physicalParameters,b.get(),ncb);
 	}
 }
-YADE_PLUGIN(&quot;PhysicalActionDamper&quot;);
\ No newline at end of file
+YADE_PLUGIN((PhysicalActionDamper));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/MetaEngine/PhysicalParametersMetaEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/MetaEngine/PhysicalParametersMetaEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/MetaEngine/PhysicalParametersMetaEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -28,4 +28,4 @@
  	operator()(ncb-&gt;physicalParameters,ncb,ncb-&gt;bex);
 }
 
-YADE_PLUGIN(&quot;PhysicalParametersMetaEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((PhysicalParametersMetaEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/ParallelEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/ParallelEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/ParallelEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,6 +1,6 @@
 #include&quot;ParallelEngine.hpp&quot;
 //#include&lt;omp.h&gt; // needed for omp_get_thread_num() (debugging)
-YADE_PLUGIN(&quot;ParallelEngine&quot;);
+YADE_PLUGIN((ParallelEngine));
 list&lt;string&gt; ParallelEngine::getNeededBex(){
 	list&lt;string&gt; ret;
 	FOREACH(const vector&lt;shared_ptr&lt;Engine&gt; &gt;&amp; ve, slaves){

Modified: trunk/pkg/common/Engine/StandAloneEngine/DistantPersistentSAPCollider.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/DistantPersistentSAPCollider.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/DistantPersistentSAPCollider.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -252,4 +252,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;DistantPersistentSAPCollider&quot;);
\ No newline at end of file
+YADE_PLUGIN((DistantPersistentSAPCollider));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/StandAloneEngine/InsertionSortCollider.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/InsertionSortCollider.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/InsertionSortCollider.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -14,8 +14,7 @@
 
 using namespace std;
 
-YADE_PLUGIN(&quot;InsertionSortCollider&quot;)
-
+YADE_PLUGIN((InsertionSortCollider))
 CREATE_LOGGER(InsertionSortCollider);
 
 // return true if bodies bb overlap in all 3 dimensions

Modified: trunk/pkg/common/Engine/StandAloneEngine/PeriodicPythonRunner.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/PeriodicPythonRunner.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/PeriodicPythonRunner.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,3 +1,3 @@
 #include&lt;yade/pkg-common/PeriodicPythonRunner.hpp&gt;
-YADE_PLUGIN(&quot;PeriodicPythonRunner&quot;);
+YADE_PLUGIN((PeriodicPythonRunner));
 YADE_REQUIRE_FEATURE(PYTHON)

Modified: trunk/pkg/common/Engine/StandAloneEngine/PersistentSAPCollider.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/PersistentSAPCollider.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/PersistentSAPCollider.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -314,4 +314,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;PersistentSAPCollider&quot;);
\ No newline at end of file
+YADE_PLUGIN((PersistentSAPCollider));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/StandAloneEngine/PersistentTriangulationCollider.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/PersistentTriangulationCollider.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/PersistentTriangulationCollider.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -151,4 +151,4 @@
 
 }
 
-YADE_PLUGIN(&quot;PersistentTriangulationCollider&quot;);
+YADE_PLUGIN((PersistentTriangulationCollider));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/StandAloneEngine/PhysicalActionContainerReseter.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/PhysicalActionContainerReseter.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/PhysicalActionContainerReseter.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -9,8 +9,7 @@
 #include&quot;PhysicalActionContainerReseter.hpp&quot;
 #include&lt;yade/core/MetaBody.hpp&gt;
 
-YADE_PLUGIN(&quot;PhysicalActionContainerReseter&quot;,&quot;BexResetter&quot;);
-
+YADE_PLUGIN((PhysicalActionContainerReseter)(BexResetter));
 PhysicalActionContainerReseter::PhysicalActionContainerReseter(){}
 PhysicalActionContainerReseter::~PhysicalActionContainerReseter(){} 
 void PhysicalActionContainerReseter::action(MetaBody* ncb){ ncb-&gt;bex.reset(); }

Modified: trunk/pkg/common/Engine/StandAloneEngine/ResetPositionEngine.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/ResetPositionEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/ResetPositionEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -87,4 +87,4 @@
 	for(int i=0,e=subscribedBodies.size(); i&lt;e; ++i)
 		os &lt;&lt; ini_pos[i][0]&lt;&lt; '\t' &lt;&lt; ini_pos[i][1]&lt;&lt; '\t' &lt;&lt; ini_pos[i][2]&lt;&lt; std::endl;
 }
-YADE_PLUGIN(&quot;ResetPositionEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((ResetPositionEngine));
\ No newline at end of file

Modified: trunk/pkg/common/Engine/StandAloneEngine/SpatialQuickSortCollider.cpp
===================================================================
--- trunk/pkg/common/Engine/StandAloneEngine/SpatialQuickSortCollider.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/Engine/StandAloneEngine/SpatialQuickSortCollider.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -11,8 +11,8 @@
 #include &lt;math.h&gt;
 #include &lt;algorithm&gt;
 
-YADE_PLUGIN(&quot;SpatialQuickSortCollider&quot;);
- 
+YADE_PLUGIN((SpatialQuickSortCollider));
+
 SpatialQuickSortCollider::SpatialQuickSortCollider() : Collider()
 {
 	haveDistantTransient=false;

Modified: trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawAABB.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawAABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawAABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,5 +20,5 @@
 	glutWireCube(1);
 }
 
-YADE_PLUGIN(&quot;GLDrawAABB&quot;);
+YADE_PLUGIN((GLDrawAABB));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawBoundingSphere.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawBoundingSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawBoundingVolume/GLDrawBoundingSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,5 +18,5 @@
 	glutWireSphere(s-&gt;radius,10,10);
 }
 
-YADE_PLUGIN(&quot;GLDrawBoundingSphere&quot;);
+YADE_PLUGIN((GLDrawBoundingSphere));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawBox.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawBox.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawBox.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -36,5 +36,5 @@
 }
 
 
-YADE_PLUGIN(&quot;GLDrawBox&quot;);
+YADE_PLUGIN((GLDrawBox));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawFacet.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawFacet.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawFacet.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -41,5 +41,5 @@
 		glEnd();
     }
 }
-YADE_PLUGIN(&quot;GLDrawFacet&quot;);
+YADE_PLUGIN((GLDrawFacet));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawMesh2D.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawMesh2D.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawMesh2D.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -82,5 +82,5 @@
 	}
 }
 
-YADE_PLUGIN(&quot;GLDrawMesh2D&quot;);
+YADE_PLUGIN((GLDrawMesh2D));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawQuadrilateral.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawQuadrilateral.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawQuadrilateral.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -214,5 +214,5 @@
 	y = X[1];
 };
 
-YADE_PLUGIN(&quot;GLDrawQuadrilateral&quot;);
+YADE_PLUGIN((GLDrawQuadrilateral));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -243,5 +243,5 @@
 	glLoadMatrixf(modelview);
 }
 ///////////////////////////////////////////////////////////////////////////////////////////////////
-YADE_PLUGIN(&quot;GLDrawSphere&quot;);
+YADE_PLUGIN((GLDrawSphere));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.hpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawSphere.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -32,7 +32,7 @@
 /// Serialization
 	protected :
 		virtual void postProcessAttributes(bool deserializing){if(deserializing){first=true;};};
-	REGISTER_ATTRIBUTES(/*nothing*/,(glutUse)(glutNormalize)(glutSlices)(glutStacks));
+	REGISTER_ATTRIBUTES(Serializable,(glutUse)(glutNormalize)(glutSlices)(glutStacks));
 	RENDERS(Sphere);
 	REGISTER_CLASS_NAME(GLDrawSphere);
 	REGISTER_BASE_CLASS_NAME(GLDrawGeometricalModelFunctor);

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTetrahedron.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -143,5 +143,5 @@
 	}
 }
 
-YADE_PLUGIN(&quot;GLDrawTetrahedron&quot;);
+YADE_PLUGIN((GLDrawTetrahedron));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTube.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTube.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawGeometricalModel/GLDrawTube.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -80,5 +80,5 @@
 	}
 }
 
-YADE_PLUGIN(&quot;GLDrawTube&quot;);
+YADE_PLUGIN((GLDrawTube));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawBssSweptSphereLineSegment.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawBssSweptSphereLineSegment.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawBssSweptSphereLineSegment.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -69,5 +69,5 @@
 
 
 
-YADE_PLUGIN(&quot;GLDrawBssSweptSphereLineSegment&quot;);
+YADE_PLUGIN((GLDrawBssSweptSphereLineSegment));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingBox.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingBox.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingBox.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -32,5 +32,5 @@
 //	}
 }
 
-YADE_PLUGIN(&quot;GLDrawInteractingBox&quot;);
+YADE_PLUGIN((GLDrawInteractingBox));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingFacet.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingFacet.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingFacet.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -50,5 +50,5 @@
     glEnd();
 }
 
-YADE_PLUGIN(&quot;GLDrawInteractingFacet&quot;);
+YADE_PLUGIN((GLDrawInteractingFacet));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingSphere.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawInteractingSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -155,5 +155,5 @@
 		subdivideTriangle(vertices[(unsigned int)faces[i][0]],vertices[(unsigned int)faces[i][1]],vertices[(unsigned int)faces[i][2]],depth);
 }
 
-YADE_PLUGIN(&quot;GLDrawInteractingSphere&quot;);
+YADE_PLUGIN((GLDrawInteractingSphere));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawMetaInteractingGeometry.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawMetaInteractingGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractingGeometry/GLDrawMetaInteractingGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -16,5 +16,5 @@
 }
 
 
-YADE_PLUGIN(&quot;GLDrawMetaInteractingGeometry&quot;);
+YADE_PLUGIN((GLDrawMetaInteractingGeometry));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractionGeometry/GLDrawClosestFeatures.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractionGeometry/GLDrawClosestFeatures.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractionGeometry/GLDrawClosestFeatures.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -43,5 +43,5 @@
 	glEnd();
 }
 
-YADE_PLUGIN(&quot;GLDrawClosestFeatures&quot;);
+YADE_PLUGIN((GLDrawClosestFeatures));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawInteractionPhysics/GLDrawNormalInteraction.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawInteractionPhysics/GLDrawNormalInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawInteractionPhysics/GLDrawNormalInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -39,5 +39,5 @@
 	glPopMatrix();
 }
 
-YADE_PLUGIN(&quot;GLDrawNormalInteraction&quot;);
+YADE_PLUGIN((GLDrawNormalInteraction));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawBoxShadowVolume.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawBoxShadowVolume.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawBoxShadowVolume.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -288,5 +288,5 @@
 
 
 
-YADE_PLUGIN(&quot;GLDrawBoxShadowVolume&quot;);
+YADE_PLUGIN((GLDrawBoxShadowVolume));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawSphereShadowVolume.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawSphereShadowVolume.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawShadowVolume/GLDrawSphereShadowVolume.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -56,5 +56,5 @@
 }
 
 
-YADE_PLUGIN(&quot;GLDrawSphereShadowVolume&quot;);
+YADE_PLUGIN((GLDrawSphereShadowVolume));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawParticleState.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawParticleState.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawParticleState.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -39,5 +39,5 @@
 	glEnd();
 }
 
-YADE_PLUGIN(&quot;GLDrawParticleState&quot;);
+YADE_PLUGIN((GLDrawParticleState));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawRigidBodyState.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawRigidBodyState.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawState/GLDrawRigidBodyState.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -48,5 +48,5 @@
 	glEnd();
 }
 
-YADE_PLUGIN(&quot;GLDrawRigidBodyState&quot;);
+YADE_PLUGIN((GLDrawRigidBodyState));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/GLDrawWidgets/GLDrawColorScale.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/GLDrawWidgets/GLDrawColorScale.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/GLDrawWidgets/GLDrawColorScale.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -64,5 +64,5 @@
 	glMatrixMode(GL_MODELVIEW);	
 
 }
-YADE_PLUGIN(&quot;GLDrawColorScale&quot;);
+YADE_PLUGIN((GLDrawColorScale));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.cpp
===================================================================
--- trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -9,7 +9,7 @@
 #include&lt;GL/gl.h&gt;
 #include&lt;GL/glut.h&gt;
 
-YADE_PLUGIN(&quot;OpenGLRenderingEngine&quot;);
+YADE_PLUGIN((OpenGLRenderingEngine));
 YADE_REQUIRE_FEATURE(OPENGL)
 CREATE_LOGGER(OpenGLRenderingEngine);
 

Modified: trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.hpp
===================================================================
--- trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/common/RenderingEngine/OpenGLRenderingEngine/OpenGLRenderingEngine.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -92,7 +92,7 @@
 	
 	protected :
 		void postProcessAttributes(bool deserializing);
-	REGISTER_ATTRIBUTES(/* no base*/,(scaleDisplacements)(displacementScale)(scaleRotations)(rotationScale)(Light_position)(Background_color)(Body_wire)(Show_DOF)(Show_ID)(Body_state)(Body_bounding_volume)(Body_interacting_geom)(Body_geometrical_model)(Interaction_wire)(Interaction_geometry)(Interaction_physics)(Draw_mask)(Draw_inside)(Cast_shadows)(Shadow_volumes)(Fast_shadow_volume)(clipPlaneSe3)(clipPlaneActive)(selectBodyLimit));
+	REGISTER_ATTRIBUTES(Serializable,(scaleDisplacements)(displacementScale)(scaleRotations)(rotationScale)(Light_position)(Background_color)(Body_wire)(Show_DOF)(Show_ID)(Body_state)(Body_bounding_volume)(Body_interacting_geom)(Body_geometrical_model)(Interaction_wire)(Interaction_geometry)(Interaction_physics)(Draw_mask)(Draw_inside)(Cast_shadows)(Shadow_volumes)(Fast_shadow_volume)(clipPlaneSe3)(clipPlaneActive)(selectBodyLimit));
 	REGISTER_CLASS_AND_BASE(OpenGLRenderingEngine,RenderingEngine);
 };
 REGISTER_SERIALIZABLE(OpenGLRenderingEngine);

Modified: trunk/pkg/dem/DataClass/Clump.cpp
===================================================================
--- trunk/pkg/dem/DataClass/Clump.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/Clump.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -3,8 +3,7 @@
 #include&quot;Clump.hpp&quot;
 #include&lt;algorithm&gt;
 
-YADE_PLUGIN(&quot;Clump&quot;,&quot;ClumpMemberMover&quot;,&quot;ClumpTestGen&quot;);
-
+YADE_PLUGIN((Clump)(ClumpMemberMover)(ClumpTestGen));
 CREATE_LOGGER(Clump);
 CREATE_LOGGER(ClumpMemberMover);
 CREATE_LOGGER(ClumpTestGen);

Modified: trunk/pkg/dem/DataClass/InteractingGeometry/InteractingMyTetrahedron.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractingGeometry/InteractingMyTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractingGeometry/InteractingMyTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,4 +19,4 @@
 }
 
 
-YADE_PLUGIN(&quot;InteractingMyTetrahedron&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingMyTetrahedron));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_FacetSphere.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_FacetSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_FacetSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,11 +1,11 @@
 #include &quot;Dem3DofGeom_FacetSphere.hpp&quot;
 #include&lt;yade/pkg-common/InteractingSphere.hpp&gt;
 #include&lt;yade/pkg-common/InteractingFacet.hpp&gt;
-YADE_PLUGIN(&quot;Dem3DofGeom_FacetSphere&quot;,
+YADE_PLUGIN((Dem3DofGeom_FacetSphere)
 	#ifdef YADE_OPENGL
-		&quot;GLDraw_Dem3DofGeom_FacetSphere&quot;,
+		(GLDraw_Dem3DofGeom_FacetSphere)
 	#endif	
-		&quot;ef2_Facet_Sphere_Dem3DofGeom&quot;);
+		(ef2_Facet_Sphere_Dem3DofGeom));
 
 CREATE_LOGGER(Dem3DofGeom_FacetSphere);
 Dem3DofGeom_FacetSphere::~Dem3DofGeom_FacetSphere(){}

Modified: trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_SphereSphere.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_SphereSphere.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionGeometry/Dem3DofGeom_SphereSphere.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -2,11 +2,11 @@
 
 #include&lt;yade/pkg-common/InteractingSphere.hpp&gt;
 #include&lt;yade/core/Omega.hpp&gt;
-YADE_PLUGIN(&quot;Dem3DofGeom_SphereSphere&quot;,
+YADE_PLUGIN((Dem3DofGeom_SphereSphere)
 	#ifdef YADE_OPENGL
-		&quot;GLDraw_Dem3DofGeom_SphereSphere&quot;,
+		(GLDraw_Dem3DofGeom_SphereSphere)
 	#endif
-	&quot;ef2_Sphere_Sphere_Dem3DofGeom&quot;);
+	(ef2_Sphere_Sphere_Dem3DofGeom));
 
 
 Dem3DofGeom_SphereSphere::~Dem3DofGeom_SphereSphere(){}

Modified: trunk/pkg/dem/DataClass/InteractionGeometry/DemXDofGeom.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionGeometry/DemXDofGeom.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionGeometry/DemXDofGeom.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -1,4 +1,4 @@
 #include&quot;DemXDofGeom.hpp&quot;
-YADE_PLUGIN(&quot;Dem3DofGeom&quot;);
+YADE_PLUGIN((Dem3DofGeom));
 Real Dem3DofGeom::displacementN(){throw;}
 

Modified: trunk/pkg/dem/DataClass/InteractionGeometry/InteractionOfMyTetrahedron.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionGeometry/InteractionOfMyTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionGeometry/InteractionOfMyTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;InteractionOfMyTetrahedron&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractionOfMyTetrahedron));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -4,8 +4,7 @@
 
 #include &quot;SpheresContactGeometry.hpp&quot;
 #include&lt;yade/core/Omega.hpp&gt;
-YADE_PLUGIN(&quot;SpheresContactGeometry&quot;);
-
+YADE_PLUGIN((SpheresContactGeometry));
 // At least one virtual method must be in the .cpp file (!!!)
 SpheresContactGeometry::~SpheresContactGeometry(){};
 

Modified: trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.hpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionGeometry/SpheresContactGeometry.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -49,7 +49,7 @@
 
 		void updateShearForce(Vector3r&amp; shearForce, Real ks, const Vector3r&amp; prevNormal, const RigidBodyParameters* rbp1, const RigidBodyParameters* rbp2, Real dt, bool avoidGranularRatcheting=true);
 
-	REGISTER_ATTRIBUTES(/* no attributes from base class */,
+	REGISTER_ATTRIBUTES(Serializable,
 			(normal)
 			(contactPoint)
 			(radius1)

Modified: trunk/pkg/dem/DataClass/InteractionPhysics/CohesiveFrictionalContactInteraction.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionPhysics/CohesiveFrictionalContactInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionPhysics/CohesiveFrictionalContactInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -52,4 +52,4 @@
 // }
 
 
-YADE_PLUGIN(&quot;CohesiveFrictionalContactInteraction&quot;);
\ No newline at end of file
+YADE_PLUGIN((CohesiveFrictionalContactInteraction));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/InteractionPhysics/ContactLaw1Interaction.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionPhysics/ContactLaw1Interaction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionPhysics/ContactLaw1Interaction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -46,4 +46,4 @@
 // }
 
 
-YADE_PLUGIN(&quot;ContactLaw1Interaction&quot;);
\ No newline at end of file
+YADE_PLUGIN((ContactLaw1Interaction));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/InteractionPhysics/ElasticContactInteraction.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionPhysics/ElasticContactInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionPhysics/ElasticContactInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -10,5 +10,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;ElasticContactInteraction&quot;);
-//YADE_PLUGIN(&quot;ElasticContactInteraction&quot;);
+YADE_PLUGIN((ElasticContactInteraction));

Modified: trunk/pkg/dem/DataClass/InteractionPhysics/SDECLinkPhysics.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionPhysics/SDECLinkPhysics.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionPhysics/SDECLinkPhysics.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -30,4 +30,4 @@
 }
 
 
-YADE_PLUGIN(&quot;SDECLinkPhysics&quot;);
\ No newline at end of file
+YADE_PLUGIN((SDECLinkPhysics));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/InteractionPhysics/ViscoelasticInteraction.cpp
===================================================================
--- trunk/pkg/dem/DataClass/InteractionPhysics/ViscoelasticInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/InteractionPhysics/ViscoelasticInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;ViscoelasticInteraction&quot;);
\ No newline at end of file
+YADE_PLUGIN((ViscoelasticInteraction));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/PhysicalParameters/BodyMacroParameters.cpp
===================================================================
--- trunk/pkg/dem/DataClass/PhysicalParameters/BodyMacroParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/PhysicalParameters/BodyMacroParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,4 +19,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;BodyMacroParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((BodyMacroParameters));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/PhysicalParameters/CohesiveFrictionalBodyParameters.cpp
===================================================================
--- trunk/pkg/dem/DataClass/PhysicalParameters/CohesiveFrictionalBodyParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/PhysicalParameters/CohesiveFrictionalBodyParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,4 +19,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;CohesiveFrictionalBodyParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((CohesiveFrictionalBodyParameters));
\ No newline at end of file

Modified: trunk/pkg/dem/DataClass/PhysicalParameters/SimpleViscoelasticBodyParameters.cpp
===================================================================
--- trunk/pkg/dem/DataClass/PhysicalParameters/SimpleViscoelasticBodyParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/DataClass/PhysicalParameters/SimpleViscoelasticBodyParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -17,4 +17,4 @@
 {
 }
 
-YADE_PLUGIN(&quot;SimpleViscoelasticBodyParameters&quot;);
+YADE_PLUGIN((SimpleViscoelasticBodyParameters));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/CapillaryPressureEngine.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/CapillaryPressureEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/CapillaryPressureEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -48,4 +48,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;CapillaryPressureEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((CapillaryPressureEngine));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/CapillaryRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/CapillaryRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/CapillaryRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -106,4 +106,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;CapillaryRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((CapillaryRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/CapillaryStressRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/CapillaryStressRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/CapillaryStressRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -236,4 +236,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;CapillaryStressRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((CapillaryStressRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/ContactStressRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/ContactStressRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/ContactStressRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -330,4 +330,4 @@
 
 }
 
-YADE_PLUGIN(&quot;ContactStressRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((ContactStressRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/FlowEngine.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/FlowEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/FlowEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -72,4 +72,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;FlowEngine&quot;);
+YADE_PLUGIN((FlowEngine));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/HydraulicForceEngine.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/HydraulicForceEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/HydraulicForceEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -176,4 +176,4 @@
     }
 }
 
-YADE_PLUGIN(&quot;HydraulicForceEngine&quot;);
+YADE_PLUGIN((HydraulicForceEngine));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/StaticSpheresAttractionEngine.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/StaticSpheresAttractionEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/StaticSpheresAttractionEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -52,4 +52,4 @@
 };
 
 
-YADE_PLUGIN(&quot;StaticSpheresAttractionEngine&quot;);
\ No newline at end of file
+YADE_PLUGIN((StaticSpheresAttractionEngine));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/ThreeDTriaxialEngine.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/ThreeDTriaxialEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/ThreeDTriaxialEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -217,4 +217,4 @@
 
  
 
-YADE_PLUGIN(&quot;ThreeDTriaxialEngine&quot;);
+YADE_PLUGIN((ThreeDTriaxialEngine));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/TriaxialCompressionEngine.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/TriaxialCompressionEngine.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/TriaxialCompressionEngine.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -327,4 +327,4 @@
 
  
 
-YADE_PLUGIN(&quot;TriaxialCompressionEngine&quot;);
+YADE_PLUGIN((TriaxialCompressionEngine));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/TriaxialStateRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/TriaxialStateRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/TriaxialStateRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -297,4 +297,4 @@
 
 
 
-YADE_PLUGIN(&quot;TriaxialStateRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((TriaxialStateRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/TriaxialStressController.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/TriaxialStressController.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/TriaxialStressController.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -411,4 +411,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;TriaxialStressController&quot;);
\ No newline at end of file
+YADE_PLUGIN((TriaxialStressController));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/DeusExMachina/WallStressRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/DeusExMachina/WallStressRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/DeusExMachina/WallStressRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -90,4 +90,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;WallStressRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((WallStressRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/BasicViscoelasticRelationships.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/BasicViscoelasticRelationships.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/BasicViscoelasticRelationships.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -99,4 +99,4 @@
     contactPhysics-&gt;prevNormal = Vector3r(0,0,0);
 }
 
-YADE_PLUGIN(&quot;BasicViscoelasticRelationships&quot;);
\ No newline at end of file
+YADE_PLUGIN((BasicViscoelasticRelationships));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/CL1Relationships.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/CL1Relationships.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/CL1Relationships.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -188,4 +188,4 @@
 	}
 #endif
 };
-YADE_PLUGIN(&quot;CL1Relationships&quot;);
+YADE_PLUGIN((CL1Relationships));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/CohesiveFrictionalRelationships.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/CohesiveFrictionalRelationships.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/CohesiveFrictionalRelationships.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -194,4 +194,4 @@
 	}
 #endif
 };
-YADE_PLUGIN(&quot;CohesiveFrictionalRelationships&quot;);
+YADE_PLUGIN((CohesiveFrictionalRelationships));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingBox2InteractingSphere4SpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingBox2InteractingSphere4SpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingBox2InteractingSphere4SpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -165,4 +165,4 @@
 	return go(cm2,cm1,se32,se31,c);
 }
 
-YADE_PLUGIN(&quot;InteractingBox2InteractingSphere4SpheresContactGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingBox2InteractingSphere4SpheresContactGeometry));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingFacet2InteractingSphere4SpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingFacet2InteractingSphere4SpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingFacet2InteractingSphere4SpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -128,4 +128,4 @@
 	return go(cm2,cm1,se32,se31,c);
 }
 
-YADE_PLUGIN(&quot;InteractingFacet2InteractingSphere4SpheresContactGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingFacet2InteractingSphere4SpheresContactGeometry));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2AABB.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2AABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2AABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -43,4 +43,4 @@
 	aabb-&gt;max = max;	
 }
 	
-YADE_PLUGIN(&quot;InteractingMyTetrahedron2AABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingMyTetrahedron2AABB));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingBox4InteractionOfMyTetrahedron.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingBox4InteractionOfMyTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingBox4InteractionOfMyTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -130,4 +130,4 @@
 	return isInteracting;
 }
 
-YADE_PLUGIN(&quot;InteractingMyTetrahedron2InteractingBox4InteractionOfMyTetrahedron&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingMyTetrahedron2InteractingBox4InteractionOfMyTetrahedron));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingMyTetrahedron4InteractionOfMyTetrahedron.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingMyTetrahedron4InteractionOfMyTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingMyTetrahedron2InteractingMyTetrahedron4InteractionOfMyTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -90,4 +90,4 @@
 	return isInteracting;
 }
 
-YADE_PLUGIN(&quot;InteractingMyTetrahedron2InteractingMyTetrahedron4InteractionOfMyTetrahedron&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingMyTetrahedron2InteractingMyTetrahedron4InteractionOfMyTetrahedron));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2BssSweptSphereLineSegment4SpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2BssSweptSphereLineSegment4SpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2BssSweptSphereLineSegment4SpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -79,4 +79,4 @@
 	return isInteracting;
 }
 
-YADE_PLUGIN(&quot;InteractingSphere2BssSweptSphereLineSegment4SpheresContactGeometry&quot;);
+YADE_PLUGIN((InteractingSphere2BssSweptSphereLineSegment4SpheresContactGeometry));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2InteractingSphere4SpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2InteractingSphere4SpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/InteractingSphere2InteractingSphere4SpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -60,4 +60,4 @@
 	return go(cm1,cm2,se31,se32,c);
 }
 
-YADE_PLUGIN(&quot;InteractingSphere2InteractingSphere4SpheresContactGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingSphere2InteractingSphere4SpheresContactGeometry));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/MacroMicroElasticRelationships.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/MacroMicroElasticRelationships.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/MacroMicroElasticRelationships.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -129,4 +129,4 @@
 		}
 	}
 };
-YADE_PLUGIN(&quot;MacroMicroElasticRelationships&quot;);
+YADE_PLUGIN((MacroMicroElasticRelationships));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationships.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationships.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationships.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -82,4 +82,4 @@
 	}
 	throw runtime_error(&quot;SimpleElasticRelationships currently fails for non-SpheresContactGeometry geometry!&quot;);
 };
-YADE_PLUGIN(&quot;SimpleElasticRelationships&quot;);
\ No newline at end of file
+YADE_PLUGIN((SimpleElasticRelationships));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationshipsWater.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationshipsWater.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/SimpleElasticRelationshipsWater.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -110,4 +110,4 @@
 // 		}
 // 	}
 };
-YADE_PLUGIN(&quot;SimpleElasticRelationshipsWater&quot;);
\ No newline at end of file
+YADE_PLUGIN((SimpleElasticRelationshipsWater));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/SimpleViscoelasticRelationships.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/SimpleViscoelasticRelationships.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/SimpleViscoelasticRelationships.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -47,4 +47,4 @@
 
 }
 
-YADE_PLUGIN(&quot;SimpleViscoelasticRelationships&quot;);
\ No newline at end of file
+YADE_PLUGIN((SimpleViscoelasticRelationships));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/Tetrahedron2InteractingMyTetrahedron.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/Tetrahedron2InteractingMyTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/Tetrahedron2InteractingMyTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -32,4 +32,4 @@
 	it-&gt;r4 = it-&gt;c4.Length();
 }
 	
-YADE_PLUGIN(&quot;Tetrahedron2InteractingMyTetrahedron&quot;);
\ No newline at end of file
+YADE_PLUGIN((Tetrahedron2InteractingMyTetrahedron));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/EngineUnit/ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -2,8 +2,7 @@
 #include&quot;ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw.hpp&quot;
 #include&lt;yade/pkg-dem/DemXDofGeom.hpp&gt;
 #include&lt;yade/pkg-common/NormalShearInteractions.hpp&gt;
-YADE_PLUGIN(&quot;ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw&quot;);
-
+YADE_PLUGIN((ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw));
 void ef2_Dem3Dof_NormalShear_ElasticFrictionalLaw::go(shared_ptr&lt;InteractionGeometry&gt;&amp; _geom, shared_ptr&lt;InteractionPhysics&gt;&amp; _phys, Interaction* I, MetaBody* rootBody){
 	Dem3DofGeom* geom=static_cast&lt;Dem3DofGeom*&gt;(_geom.get());
 	NormalShearInteraction* phys=static_cast&lt;NormalShearInteraction*&gt;(_phys.get());

Modified: trunk/pkg/dem/Engine/EngineUnit/ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/EngineUnit/ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/EngineUnit/ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -10,8 +10,7 @@
 #include&lt;yade/pkg-dem/SpheresContactGeometry.hpp&gt;
 #include&lt;yade/pkg-dem/ViscoelasticInteraction.hpp&gt;
 #include&lt;yade/pkg-common/RigidBodyParameters.hpp&gt;
-YADE_PLUGIN(&quot;ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw&quot;);
-
+YADE_PLUGIN((ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw));
 void ef2_Spheres_Viscoelastic_SimpleViscoelasticContactLaw::go(shared_ptr&lt;InteractionGeometry&gt;&amp; _geom, shared_ptr&lt;InteractionPhysics&gt;&amp; _phys, Interaction* I, MetaBody* rootBody){
 
 	SpheresContactGeometry* geom=static_cast&lt;SpheresContactGeometry*&gt;(_geom.get());

Modified: trunk/pkg/dem/Engine/StandAloneEngine/AveragePositionRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/AveragePositionRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/AveragePositionRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -73,4 +73,4 @@
 }
 
 
-YADE_PLUGIN(&quot;AveragePositionRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((AveragePositionRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/CohesiveFrictionalContactLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/CohesiveFrictionalContactLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/CohesiveFrictionalContactLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -377,4 +377,4 @@
 
 }
 
-YADE_PLUGIN(&quot;CohesiveFrictionalContactLaw&quot;);
+YADE_PLUGIN((CohesiveFrictionalContactLaw));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/ContactLaw1.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/ContactLaw1.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/ContactLaw1.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -310,4 +310,4 @@
 
 }
 
-YADE_PLUGIN(&quot;ContactLaw1&quot;);
\ No newline at end of file
+YADE_PLUGIN((ContactLaw1));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/ElasticCohesiveLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/ElasticCohesiveLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/ElasticCohesiveLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -230,4 +230,4 @@
 }
 
 
-YADE_PLUGIN(&quot;ElasticCohesiveLaw&quot;);
+YADE_PLUGIN((ElasticCohesiveLaw));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/ElasticContactLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/ElasticContactLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/ElasticContactLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -15,9 +15,8 @@
 #include&lt;yade/core/Omega.hpp&gt;
 #include&lt;yade/core/MetaBody.hpp&gt;
 
-YADE_PLUGIN(&quot;ef2_Spheres_Elastic_ElasticLaw&quot;,&quot;Law2_Dem3Dof_Elastic_Elastic&quot;,&quot;ElasticContactLaw&quot;);
+YADE_PLUGIN((ef2_Spheres_Elastic_ElasticLaw)(Law2_Dem3Dof_Elastic_Elastic)(ElasticContactLaw));
 
-
 ElasticContactLaw::ElasticContactLaw() : InteractionSolver()
 {
 	sdecGroupMask=1;

Modified: trunk/pkg/dem/Engine/StandAloneEngine/ElasticCriterionTimeStepper.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/ElasticCriterionTimeStepper.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/ElasticCriterionTimeStepper.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -134,4 +134,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;ElasticCriterionTimeStepper&quot;);
\ No newline at end of file
+YADE_PLUGIN((ElasticCriterionTimeStepper));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/FacetTopologyAnalyzer.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/FacetTopologyAnalyzer.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/FacetTopologyAnalyzer.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -4,8 +4,7 @@
 #include&lt;yade/core/Body.hpp&gt;
 
 CREATE_LOGGER(FacetTopologyAnalyzer);
-YADE_PLUGIN(&quot;FacetTopologyAnalyzer&quot;);
-
+YADE_PLUGIN((FacetTopologyAnalyzer));
 #ifndef FACET_TOPO
 void FacetTopologyAnalyzer::action(MetaBody* rb){
 	throw runtime_error(&quot;FACET_TOPO was not enabled in InteractingFacet.hpp at compile-time. Do not use FacetTopologyAnalyzer or recompile.&quot;);

Modified: trunk/pkg/dem/Engine/StandAloneEngine/ForceRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/ForceRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/ForceRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -84,4 +84,4 @@
 		
 }
 
-YADE_PLUGIN(&quot;ForceRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((ForceRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/GeometricalModelForceColorizer.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/GeometricalModelForceColorizer.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/GeometricalModelForceColorizer.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -82,4 +82,4 @@
 		
 }
 
-YADE_PLUGIN(&quot;GeometricalModelForceColorizer&quot;);
\ No newline at end of file
+YADE_PLUGIN((GeometricalModelForceColorizer));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/GlobalStiffnessTimeStepper.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/GlobalStiffnessTimeStepper.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/GlobalStiffnessTimeStepper.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -16,8 +16,7 @@
 #include&lt;yade/pkg-common/Sphere.hpp&gt;
 
 CREATE_LOGGER(GlobalStiffnessTimeStepper);
-YADE_PLUGIN(&quot;GlobalStiffnessTimeStepper&quot;);
-
+YADE_PLUGIN((GlobalStiffnessTimeStepper));
 GlobalStiffnessTimeStepper::GlobalStiffnessTimeStepper() : TimeStepper()
 {
 //cerr &lt;&lt; &quot;GlobalStiffnessTimeStepper()&quot;  &lt;&lt; endl;

Modified: trunk/pkg/dem/Engine/StandAloneEngine/MGPRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/MGPRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/MGPRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -87,4 +87,4 @@
 
 }
 
-YADE_PLUGIN(&quot;MGPRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((MGPRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/MicroMacroAnalyser.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/MicroMacroAnalyser.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/MicroMacroAnalyser.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -225,4 +225,4 @@
 
 
 
-YADE_PLUGIN(&quot;MicroMacroAnalyser&quot;);
+YADE_PLUGIN((MicroMacroAnalyser));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/MyTetrahedronLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/MyTetrahedronLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/MyTetrahedronLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -76,4 +76,4 @@
 }
 
 
-YADE_PLUGIN(&quot;MyTetrahedronLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((MyTetrahedronLaw));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/NewtonsDampedLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/NewtonsDampedLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/NewtonsDampedLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -13,8 +13,7 @@
 #include&lt;yade/lib-base/yadeWm3Extra.hpp&gt;
 #include&lt;yade/pkg-dem/Clump.hpp&gt;
 
-YADE_PLUGIN(&quot;NewtonsDampedLaw&quot;);
-
+YADE_PLUGIN((NewtonsDampedLaw));
 void NewtonsDampedLaw::cundallDamp(const Real&amp; dt, const Vector3r&amp; f, const Vector3r&amp; velocity, Vector3r&amp; acceleration, const Vector3r&amp; m, const Vector3r&amp; angularVelocity, Vector3r&amp; angularAcceleration){
 	for(int i=0; i&lt;3; i++){
 		angularAcceleration[i]*= 1 - damping*Mathr::Sign ( m[i]*(angularVelocity[i] + (Real) 0.5 *dt*angularAcceleration[i]) );

Modified: trunk/pkg/dem/Engine/StandAloneEngine/PositionOrientationRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/PositionOrientationRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/PositionOrientationRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -54,4 +54,4 @@
 }
 
 
-YADE_PLUGIN(&quot;PositionOrientationRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((PositionOrientationRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/RigidBodyRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/RigidBodyRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/RigidBodyRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -97,4 +97,4 @@
     }
 }
 
-YADE_PLUGIN(&quot;RigidBodyRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((RigidBodyRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/SQLiteRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/SQLiteRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/SQLiteRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -6,7 +6,7 @@
 #include&lt;boost/algorithm/string/join.hpp&gt;
 #include&lt;yade/core/MetaBody.hpp&gt;
 
-YADE_PLUGIN(&quot;SQLiteRecorder&quot;);
+YADE_PLUGIN((SQLiteRecorder));
 using namespace boost;
 CREATE_LOGGER(SQLiteRecorder);
 

Modified: trunk/pkg/dem/Engine/StandAloneEngine/SimpleViscoelasticSpheresInteractionRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/SimpleViscoelasticSpheresInteractionRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/SimpleViscoelasticSpheresInteractionRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -93,4 +93,4 @@
     }
 }
 
-YADE_PLUGIN(&quot;SimpleViscoelasticSpheresInteractionRecorder&quot;);
+YADE_PLUGIN((SimpleViscoelasticSpheresInteractionRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/UniaxialStrainer.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/UniaxialStrainer.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/UniaxialStrainer.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -6,8 +6,7 @@
 #include&lt;yade/pkg-common/ParticleParameters.hpp&gt;
 #include&lt;yade/pkg-common/AABB.hpp&gt;
 
-YADE_PLUGIN(&quot;UniaxialStrainer&quot;);
-
+YADE_PLUGIN((UniaxialStrainer));
 /************************ UniaxialStrainer **********************/
 CREATE_LOGGER(UniaxialStrainer);
 

Modified: trunk/pkg/dem/Engine/StandAloneEngine/VelocityRecorder.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/VelocityRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/VelocityRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -73,4 +73,4 @@
 }
 
 
-YADE_PLUGIN(&quot;VelocityRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((VelocityRecorder));
\ No newline at end of file

Modified: trunk/pkg/dem/Engine/StandAloneEngine/VolumicContactLaw.cpp
===================================================================
--- trunk/pkg/dem/Engine/StandAloneEngine/VolumicContactLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/Engine/StandAloneEngine/VolumicContactLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -634,4 +634,4 @@
 }
 
  
-YADE_PLUGIN(&quot;VolumicContactLaw&quot;);
+YADE_PLUGIN((VolumicContactLaw));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/CohesiveTriaxialTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/CohesiveTriaxialTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/CohesiveTriaxialTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -697,4 +697,4 @@
 
 
 
-YADE_PLUGIN(&quot;CohesiveTriaxialTest&quot;);
+YADE_PLUGIN((CohesiveTriaxialTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/Funnel.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/Funnel.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/Funnel.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -316,4 +316,4 @@
 }
 
 
-YADE_PLUGIN(&quot;Funnel&quot;);
\ No newline at end of file
+YADE_PLUGIN((Funnel));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/HydraulicTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/HydraulicTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/HydraulicTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -315,4 +315,4 @@
 	return true;
 };
 
-YADE_PLUGIN(&quot;HydraulicTest&quot;);
+YADE_PLUGIN((HydraulicTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/MembraneTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/MembraneTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/MembraneTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -352,4 +352,4 @@
 
 
 
-YADE_PLUGIN(&quot;MembraneTest&quot;);
+YADE_PLUGIN((MembraneTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/ModifiedTriaxialTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/ModifiedTriaxialTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/ModifiedTriaxialTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -691,4 +691,4 @@
 
 
 
-YADE_PLUGIN(&quot;ModifiedTriaxialTest&quot;);
+YADE_PLUGIN((ModifiedTriaxialTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/SDECImpactTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/SDECImpactTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/SDECImpactTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -494,4 +494,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;SDECImpactTest&quot;);
\ No newline at end of file
+YADE_PLUGIN((SDECImpactTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/SDECLinkedSpheres.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/SDECLinkedSpheres.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/SDECLinkedSpheres.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -367,4 +367,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;SDECLinkedSpheres&quot;);
\ No newline at end of file
+YADE_PLUGIN((SDECLinkedSpheres));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/SDECMovingWall.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/SDECMovingWall.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/SDECMovingWall.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -395,4 +395,4 @@
 }
 
 
-YADE_PLUGIN(&quot;SDECMovingWall&quot;);
\ No newline at end of file
+YADE_PLUGIN((SDECMovingWall));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/SDECSpheresPlane.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/SDECSpheresPlane.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/SDECSpheresPlane.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -372,4 +372,4 @@
 }
 
 
-YADE_PLUGIN(&quot;SDECSpheresPlane&quot;);
\ No newline at end of file
+YADE_PLUGIN((SDECSpheresPlane));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/STLImporterTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/STLImporterTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/STLImporterTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -291,4 +291,4 @@
 }
 
 
-YADE_PLUGIN(&quot;STLImporterTest&quot;);
+YADE_PLUGIN((STLImporterTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/SimpleScene.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/SimpleScene.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/SimpleScene.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -33,8 +33,7 @@
 
 
 
-YADE_PLUGIN(&quot;SimpleScene&quot;);
-
+YADE_PLUGIN((SimpleScene));
 bool SimpleScene::generate(){
 	message=&quot;&quot;;
 	//@

Modified: trunk/pkg/dem/PreProcessor/TetraTestGen.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/TetraTestGen.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/TetraTestGen.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -6,8 +6,7 @@
 
 #include&lt;yade/pkg-dem/Tetra.hpp&gt;
 
-YADE_PLUGIN(&quot;TetraTestGen&quot;);
-
+YADE_PLUGIN((TetraTestGen));
 bool TetraTestGen::generate()
 {
 	Shop::setDefault&lt;int&gt;(&quot;param_timeStepUpdateInterval&quot;,-1);

Modified: trunk/pkg/dem/PreProcessor/TetrahedronsTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/TetrahedronsTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/TetrahedronsTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -394,4 +394,4 @@
 	tet-&gt;v[3]=size*(Mathr::UnitRandom()*0.7+1.0)*Vector3r(0.16,0.93,-0.33);
 }
 
-YADE_PLUGIN(&quot;TetrahedronsTest&quot;);
\ No newline at end of file
+YADE_PLUGIN((TetrahedronsTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/ThreePointBending.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/ThreePointBending.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/ThreePointBending.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -354,4 +354,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;ThreePointBending&quot;);
+YADE_PLUGIN((ThreePointBending));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/TriaxialTest.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/TriaxialTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/TriaxialTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -694,4 +694,4 @@
 
 
 
-YADE_PLUGIN(&quot;TriaxialTest&quot;);
+YADE_PLUGIN((TriaxialTest));
\ No newline at end of file

Modified: trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp
===================================================================
--- trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/PreProcessor/TriaxialTestWater.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -682,4 +682,4 @@
 
 
 
-YADE_PLUGIN(&quot;TriaxialTestWater&quot;);
+YADE_PLUGIN((TriaxialTestWater));
\ No newline at end of file

Modified: trunk/pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction/GLDrawCohesiveFrictionalContactInteraction.cpp
===================================================================
--- trunk/pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction/GLDrawCohesiveFrictionalContactInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/RenderingEngine/GLDrawCohesiveFrictionalContactInteraction/GLDrawCohesiveFrictionalContactInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -245,5 +245,5 @@
 
 }
 
-YADE_PLUGIN(&quot;GLDrawCohesiveFrictionalContactInteraction&quot;);
+YADE_PLUGIN((GLDrawCohesiveFrictionalContactInteraction));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/dem/RenderingEngine/GLDrawElasticContactInteraction/GLDrawElasticContactInteraction.cpp
===================================================================
--- trunk/pkg/dem/RenderingEngine/GLDrawElasticContactInteraction/GLDrawElasticContactInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/RenderingEngine/GLDrawElasticContactInteraction/GLDrawElasticContactInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -90,5 +90,5 @@
 
 }
 
-YADE_PLUGIN(&quot;GLDrawElasticContactInteraction&quot;);
+YADE_PLUGIN((GLDrawElasticContactInteraction));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron/GLDrawInteractingMyTetrahedron.cpp
===================================================================
--- trunk/pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron/GLDrawInteractingMyTetrahedron.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/RenderingEngine/GLDrawInteractingMyTetrahedron/GLDrawInteractingMyTetrahedron.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -36,5 +36,5 @@
 	}
 }
 
-YADE_PLUGIN(&quot;GLDrawInteractingMyTetrahedron&quot;);
+YADE_PLUGIN((GLDrawInteractingMyTetrahedron));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry/GLDrawSpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry/GLDrawSpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/RenderingEngine/GLDrawSpheresContactGeometry/GLDrawSpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -14,7 +14,7 @@
 #include&lt;yade/lib-opengl/OpenGLWrapper.hpp&gt;
 #include&lt;yade/lib-opengl/GLUtils.hpp&gt;
 
-YADE_PLUGIN(&quot;GLDrawSpheresContactGeometry&quot;);
+YADE_PLUGIN((GLDrawSpheresContactGeometry));
 YADE_REQUIRE_FEATURE(OPENGL)
 CREATE_LOGGER(GLDrawSpheresContactGeometry);
 

Modified: trunk/pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction/GLDrawViscoelasticInteraction.cpp
===================================================================
--- trunk/pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction/GLDrawViscoelasticInteraction.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/RenderingEngine/GLDrawViscoelasticInteraction/GLDrawViscoelasticInteraction.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -35,5 +35,5 @@
 	glPopMatrix();
 }
 
-YADE_PLUGIN(&quot;GLDrawViscoelasticInteraction&quot;);
+YADE_PLUGIN((GLDrawViscoelasticInteraction));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/dem/meta/ConcretePM.cpp
===================================================================
--- trunk/pkg/dem/meta/ConcretePM.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/meta/ConcretePM.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -6,11 +6,11 @@
 #include&lt;yade/pkg-dem/DemXDofGeom.hpp&gt;
 #include&lt;yade/pkg-dem/Shop.hpp&gt;
 
-YADE_PLUGIN(&quot;CpmMat&quot;,&quot;Ip2_CpmMat_CpmMat_CpmPhys&quot;,&quot;CpmPhys&quot;,&quot;Law2_Dem3DofGeom_CpmPhys_Cpm&quot;,&quot;CpmGlobalCharacteristics&quot;,
+YADE_PLUGIN((CpmMat)(Ip2_CpmMat_CpmMat_CpmPhys)(CpmPhys)(Law2_Dem3DofGeom_CpmPhys_Cpm)(CpmGlobalCharacteristics)
 	#ifdef YADE_OPENGL
-		&quot;GLDrawCpmPhys&quot;,
+		(GLDrawCpmPhys)
 	#endif	
-		&quot;CpmPhysDamageColorizer&quot;);
+		(CpmPhysDamageColorizer));
 
 
 /********************** Ip2_CpmMat_CpmMat_CpmPhys ****************************/

Modified: trunk/pkg/dem/meta/ConcretePM.hpp
===================================================================
--- trunk/pkg/dem/meta/ConcretePM.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/meta/ConcretePM.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -296,7 +296,7 @@
 	class GLDrawCpmPhys: public GLDrawInteractionPhysicsFunctor {
 		public: virtual void go(const shared_ptr&lt;InteractionPhysics&gt;&amp;,const shared_ptr&lt;Interaction&gt;&amp;,const shared_ptr&lt;Body&gt;&amp;,const shared_ptr&lt;Body&gt;&amp;,bool wireFrame);
 		virtual ~GLDrawCpmPhys() {};
-		REGISTER_ATTRIBUTES(/*no base*/,(contactLine)(dmgLabel)(dmgPlane)(epsT)(epsTAxes)(normal)(colorStrain)(epsNLabel));
+		REGISTER_ATTRIBUTES(Serializable,(contactLine)(dmgLabel)(dmgPlane)(epsT)(epsTAxes)(normal)(colorStrain)(epsNLabel));
 		RENDERS(CpmPhys);
 		REGISTER_CLASS_AND_BASE(GLDrawCpmPhys,GLDrawInteractionPhysicsFunctor);
 		DECLARE_LOGGER;

Modified: trunk/pkg/dem/meta/RockPM.cpp
===================================================================
--- trunk/pkg/dem/meta/RockPM.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/meta/RockPM.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -23,10 +23,9 @@
 #include&lt;yade/pkg-dem/Shop.hpp&gt;
 
 
-YADE_PLUGIN(&quot;Law2_Dem3DofGeom_RockPMPhys_Rpm&quot;, &quot;RpmMat&quot;,&quot;Ip2_RpmMat_RpmMat_RpmPhys&quot;,&quot;RpmPhys&quot;);
+YADE_PLUGIN((Law2_Dem3DofGeom_RockPMPhys_Rpm)(RpmMat)(Ip2_RpmMat_RpmMat_RpmPhys)(RpmPhys));
 
 
-
 /********************** Law2_Dem3DofGeom_RockPMPhys_Rpm ****************************/
 CREATE_LOGGER(Law2_Dem3DofGeom_RockPMPhys_Rpm);
 

Modified: trunk/pkg/dem/meta/Tetra.cpp
===================================================================
--- trunk/pkg/dem/meta/Tetra.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/dem/meta/Tetra.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -2,10 +2,10 @@
 
 #include&quot;Tetra.hpp&quot;
 
-YADE_PLUGIN(/* self-contained in hpp: */ &quot;TetraMold&quot;, &quot;TetraBang&quot;, &quot;Tetrahedron2TetraMold&quot;,&quot;TetraAABB&quot;, 
-	/* some code in cpp (this file): */ &quot;TetraLaw&quot;,	 &quot;Tetra2TetraBang&quot;
+YADE_PLUGIN(/* self-contained in hpp: */ (TetraMold) (TetraBang) (Tetrahedron2TetraMold) (TetraAABB) 
+	/* some code in cpp (this file): */ (TetraLaw) (Tetra2TetraBang)
 	#ifdef YADE_OPENGL
-		,&quot;TetraDraw&quot;
+		(TetraDraw)
 	#endif	
 	);
 

Modified: trunk/pkg/fem/DataClass/GeometricalModel/FEMSetGeometry.cpp
===================================================================
--- trunk/pkg/fem/DataClass/GeometricalModel/FEMSetGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/DataClass/GeometricalModel/FEMSetGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -21,4 +21,4 @@
 }
 
 
-YADE_PLUGIN(&quot;FEMSetGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMSetGeometry));
\ No newline at end of file

Modified: trunk/pkg/fem/DataClass/PhysicalParameters/FEMNodeData.cpp
===================================================================
--- trunk/pkg/fem/DataClass/PhysicalParameters/FEMNodeData.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/DataClass/PhysicalParameters/FEMNodeData.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -21,4 +21,4 @@
 }
 
 
-YADE_PLUGIN(&quot;FEMNodeData&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMNodeData));
\ No newline at end of file

Modified: trunk/pkg/fem/DataClass/PhysicalParameters/FEMSetParameters.cpp
===================================================================
--- trunk/pkg/fem/DataClass/PhysicalParameters/FEMSetParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/DataClass/PhysicalParameters/FEMSetParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -24,4 +24,4 @@
 
 
 
-YADE_PLUGIN(&quot;FEMSetParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMSetParameters));
\ No newline at end of file

Modified: trunk/pkg/fem/DataClass/PhysicalParameters/FEMTetrahedronData.cpp
===================================================================
--- trunk/pkg/fem/DataClass/PhysicalParameters/FEMTetrahedronData.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/DataClass/PhysicalParameters/FEMTetrahedronData.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -183,4 +183,4 @@
 	damping = Damp * mass ;
 }
 
-YADE_PLUGIN(&quot;FEMTetrahedronData&quot;);
+YADE_PLUGIN((FEMTetrahedronData));
\ No newline at end of file

Modified: trunk/pkg/fem/Engine/EngineUnit/FEMSet2Tetrahedrons.cpp
===================================================================
--- trunk/pkg/fem/Engine/EngineUnit/FEMSet2Tetrahedrons.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/Engine/EngineUnit/FEMSet2Tetrahedrons.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -43,4 +43,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;FEMSet2Tetrahedrons&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMSet2Tetrahedrons));
\ No newline at end of file

Modified: trunk/pkg/fem/Engine/EngineUnit/FEMSetTextLoader.cpp
===================================================================
--- trunk/pkg/fem/Engine/EngineUnit/FEMSetTextLoader.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/Engine/EngineUnit/FEMSetTextLoader.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -128,4 +128,4 @@
 	body-&gt;physicalParameters	= physics;
 }
 
-YADE_PLUGIN(&quot;FEMSetTextLoader&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMSetTextLoader));
\ No newline at end of file

Modified: trunk/pkg/fem/Engine/EngineUnit/FEMTetrahedronStiffness.cpp
===================================================================
--- trunk/pkg/fem/Engine/EngineUnit/FEMTetrahedronStiffness.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/Engine/EngineUnit/FEMTetrahedronStiffness.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -35,4 +35,4 @@
 	}
 	
 }
-YADE_PLUGIN(&quot;FEMTetrahedronStiffness&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMTetrahedronStiffness));
\ No newline at end of file

Modified: trunk/pkg/fem/Engine/StandAloneEngine/FEMLaw.cpp
===================================================================
--- trunk/pkg/fem/Engine/StandAloneEngine/FEMLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/Engine/StandAloneEngine/FEMLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -76,4 +76,4 @@
 
 
 
-YADE_PLUGIN(&quot;FEMLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((FEMLaw));
\ No newline at end of file

Modified: trunk/pkg/fem/PreProcessor/FEMBeam.cpp
===================================================================
--- trunk/pkg/fem/PreProcessor/FEMBeam.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/fem/PreProcessor/FEMBeam.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -238,4 +238,4 @@
 }
 
  
-YADE_PLUGIN(&quot;FEMBeam&quot;);
+YADE_PLUGIN((FEMBeam));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/GeometricalModel/LatticeSetGeometry.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/GeometricalModel/LatticeSetGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/GeometricalModel/LatticeSetGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -21,4 +21,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LatticeSetGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeSetGeometry));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/GeometricalModel/LineSegment.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/GeometricalModel/LineSegment.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/GeometricalModel/LineSegment.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LineSegment&quot;);
\ No newline at end of file
+YADE_PLUGIN((LineSegment));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/InteractingGeometry/LatticeInteractingGeometry.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/InteractingGeometry/LatticeInteractingGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/InteractingGeometry/LatticeInteractingGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -19,4 +19,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LatticeInteractingGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeInteractingGeometry));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/InteractionPhysics/LatticeBeamAngularSpring.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/InteractionPhysics/LatticeBeamAngularSpring.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/InteractionPhysics/LatticeBeamAngularSpring.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -34,4 +34,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LatticeBeamAngularSpring&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeBeamAngularSpring));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/InteractionPhysics/NonLocalDependency.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/InteractionPhysics/NonLocalDependency.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/InteractionPhysics/NonLocalDependency.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -21,4 +21,4 @@
 }
 
 
-YADE_PLUGIN(&quot;NonLocalDependency&quot;);
\ No newline at end of file
+YADE_PLUGIN((NonLocalDependency));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeBeamParameters.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeBeamParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeBeamParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -144,4 +144,4 @@
         }
 }
 
-YADE_PLUGIN(&quot;LatticeBeamParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeBeamParameters));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeNodeParameters.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeNodeParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeNodeParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -24,4 +24,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LatticeNodeParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeNodeParameters));
\ No newline at end of file

Modified: trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeSetParameters.cpp
===================================================================
--- trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeSetParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/DataClass/PhysicalParameters/LatticeSetParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -29,4 +29,4 @@
 
 
  
-YADE_PLUGIN(&quot;LatticeSetParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeSetParameters));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/EngineUnit/LatticeSet2LatticeBeams.cpp
===================================================================
--- trunk/pkg/lattice/Engine/EngineUnit/LatticeSet2LatticeBeams.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/EngineUnit/LatticeSet2LatticeBeams.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -56,4 +56,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;LatticeSet2LatticeBeams&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeSet2LatticeBeams));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/BeamRecorder.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/BeamRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/BeamRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -193,4 +193,4 @@
 	 
 }
 
-YADE_PLUGIN(&quot;BeamRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((BeamRecorder));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/LatticeLaw.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/LatticeLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/LatticeLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -711,4 +711,4 @@
 
 */
 
-YADE_PLUGIN(&quot;LatticeLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((LatticeLaw));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/MeasurePoisson.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/MeasurePoisson.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/MeasurePoisson.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -100,4 +100,4 @@
 	 
 }
 
-YADE_PLUGIN(&quot;MeasurePoisson&quot;);
\ No newline at end of file
+YADE_PLUGIN((MeasurePoisson));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/MovingSupport.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/MovingSupport.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/MovingSupport.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -210,4 +210,4 @@
 	 
 }
 
-YADE_PLUGIN(&quot;MovingSupport&quot;);
\ No newline at end of file
+YADE_PLUGIN((MovingSupport));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/NodeRecorder.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/NodeRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/NodeRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -204,4 +204,4 @@
 	// GLDrawSomething can just put a getClassName()
 }
 
-YADE_PLUGIN(&quot;NodeRecorder&quot;);
+YADE_PLUGIN((NodeRecorder));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/NonLocalInitializer.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/NonLocalInitializer.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/NonLocalInitializer.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -179,4 +179,4 @@
 //	cerr &lt;&lt; &quot;number of beams: &quot; &lt;&lt; total &lt;&lt; &quot;\n&quot;;
 }
 
-YADE_PLUGIN(&quot;NonLocalInitializer&quot;);
\ No newline at end of file
+YADE_PLUGIN((NonLocalInitializer));
\ No newline at end of file

Modified: trunk/pkg/lattice/Engine/StandAloneEngine/StrainRecorder.cpp
===================================================================
--- trunk/pkg/lattice/Engine/StandAloneEngine/StrainRecorder.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/Engine/StandAloneEngine/StrainRecorder.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -118,4 +118,4 @@
 	 
 }
 
-YADE_PLUGIN(&quot;StrainRecorder&quot;);
\ No newline at end of file
+YADE_PLUGIN((StrainRecorder));
\ No newline at end of file

Modified: trunk/pkg/lattice/PreProcessor/LatticeExample.cpp
===================================================================
--- trunk/pkg/lattice/PreProcessor/LatticeExample.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/PreProcessor/LatticeExample.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -2169,4 +2169,4 @@
 }
 
 
-YADE_PLUGIN(&quot;LatticeExample&quot;);
+YADE_PLUGIN((LatticeExample));
\ No newline at end of file

Modified: trunk/pkg/lattice/PreProcessor/LatticeExampleCTData.cpp
===================================================================
--- trunk/pkg/lattice/PreProcessor/LatticeExampleCTData.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/PreProcessor/LatticeExampleCTData.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -552,4 +552,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;LatticeExampleCTData&quot;);
+YADE_PLUGIN((LatticeExampleCTData));
\ No newline at end of file

Modified: trunk/pkg/lattice/PreProcessor/LatticeExampleSimple.cpp
===================================================================
--- trunk/pkg/lattice/PreProcessor/LatticeExampleSimple.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/PreProcessor/LatticeExampleSimple.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -509,4 +509,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;LatticeExampleSimple&quot;);
+YADE_PLUGIN((LatticeExampleSimple));
\ No newline at end of file

Modified: trunk/pkg/lattice/RenderingEngine/GLDrawLatticeBeamState/GLDrawLatticeBeamState.cpp
===================================================================
--- trunk/pkg/lattice/RenderingEngine/GLDrawLatticeBeamState/GLDrawLatticeBeamState.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/RenderingEngine/GLDrawLatticeBeamState/GLDrawLatticeBeamState.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -67,5 +67,5 @@
 	*/
 }
 
-YADE_PLUGIN(&quot;GLDrawLatticeBeamState&quot;);
+YADE_PLUGIN((GLDrawLatticeBeamState));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/lattice/RenderingEngine/GLDrawLatticeInteractingGeometry/GLDrawLatticeInteractingGeometry.cpp
===================================================================
--- trunk/pkg/lattice/RenderingEngine/GLDrawLatticeInteractingGeometry/GLDrawLatticeInteractingGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/RenderingEngine/GLDrawLatticeInteractingGeometry/GLDrawLatticeInteractingGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -200,5 +200,5 @@
 
 }
 
-YADE_PLUGIN(&quot;GLDrawLatticeInteractingGeometry&quot;);
+YADE_PLUGIN((GLDrawLatticeInteractingGeometry));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/lattice/RenderingEngine/GLDrawLatticeSetGeometry/GLDrawLatticeSetGeometry.cpp
===================================================================
--- trunk/pkg/lattice/RenderingEngine/GLDrawLatticeSetGeometry/GLDrawLatticeSetGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/RenderingEngine/GLDrawLatticeSetGeometry/GLDrawLatticeSetGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -233,5 +233,5 @@
 //	std::cerr &lt;&lt; &quot;GLDrawLatticeSetGeometry\n&quot;;
 }
 
-YADE_PLUGIN(&quot;GLDrawLatticeSetGeometry&quot;);
+YADE_PLUGIN((GLDrawLatticeSetGeometry));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/lattice/RenderingEngine/GLDrawLineSegment/GLDrawLineSegment.cpp
===================================================================
--- trunk/pkg/lattice/RenderingEngine/GLDrawLineSegment/GLDrawLineSegment.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/lattice/RenderingEngine/GLDrawLineSegment/GLDrawLineSegment.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -65,5 +65,5 @@
 	}
 }
 
-YADE_PLUGIN(&quot;GLDrawLineSegment&quot;);
+YADE_PLUGIN((GLDrawLineSegment));
 YADE_REQUIRE_FEATURE(OPENGL)

Modified: trunk/pkg/mass-spring/DataClass/InteractionGeometry/SpringGeometry.cpp
===================================================================
--- trunk/pkg/mass-spring/DataClass/InteractionGeometry/SpringGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/mass-spring/DataClass/InteractionGeometry/SpringGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 }
 
 
-YADE_PLUGIN(&quot;SpringGeometry&quot;);
\ No newline at end of file
+YADE_PLUGIN((SpringGeometry));
\ No newline at end of file

Modified: trunk/pkg/mass-spring/DataClass/InteractionPhysics/SpringPhysics.cpp
===================================================================
--- trunk/pkg/mass-spring/DataClass/InteractionPhysics/SpringPhysics.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/mass-spring/DataClass/InteractionPhysics/SpringPhysics.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,4 +18,4 @@
 }
 
 
-YADE_PLUGIN(&quot;SpringPhysics&quot;);
\ No newline at end of file
+YADE_PLUGIN((SpringPhysics));
\ No newline at end of file

Modified: trunk/pkg/mass-spring/DataClass/PhysicalParameters/ParticleSetParameters.cpp
===================================================================
--- trunk/pkg/mass-spring/DataClass/PhysicalParameters/ParticleSetParameters.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/mass-spring/DataClass/PhysicalParameters/ParticleSetParameters.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -20,4 +20,4 @@
 }
 
 
-YADE_PLUGIN(&quot;ParticleSetParameters&quot;);
\ No newline at end of file
+YADE_PLUGIN((ParticleSetParameters));
\ No newline at end of file

Modified: trunk/pkg/mass-spring/Engine/EngineUnit/ParticleSet2Mesh2D.cpp
===================================================================
--- trunk/pkg/mass-spring/Engine/EngineUnit/ParticleSet2Mesh2D.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/mass-spring/Engine/EngineUnit/ParticleSet2Mesh2D.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -35,4 +35,4 @@
 	}
 }
 	
-YADE_PLUGIN(&quot;ParticleSet2Mesh2D&quot;);
\ No newline at end of file
+YADE_PLUGIN((ParticleSet2Mesh2D));
\ No newline at end of file

Modified: trunk/pkg/mass-spring/Engine/StandAloneEngine/MassSpringLaw.cpp
===================================================================
--- trunk/pkg/mass-spring/Engine/StandAloneEngine/MassSpringLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/mass-spring/Engine/StandAloneEngine/MassSpringLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -68,4 +68,4 @@
 	
 }
 
-YADE_PLUGIN(&quot;MassSpringLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((MassSpringLaw));
\ No newline at end of file

Modified: trunk/pkg/mass-spring/PreProcessor/HangingCloth.cpp
===================================================================
--- trunk/pkg/mass-spring/PreProcessor/HangingCloth.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/mass-spring/PreProcessor/HangingCloth.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -505,4 +505,4 @@
 	body-&gt;physicalParameters	= physics;
 }
 
-YADE_PLUGIN(&quot;HangingCloth&quot;);
+YADE_PLUGIN((HangingCloth));
\ No newline at end of file

Modified: trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingBox4ClosestFeatures.cpp
===================================================================
--- trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingBox4ClosestFeatures.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingBox4ClosestFeatures.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -466,4 +466,4 @@
 
 }
 
-YADE_PLUGIN(&quot;InteractingBox2InteractingBox4ClosestFeatures&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingBox2InteractingBox4ClosestFeatures));
\ No newline at end of file

Modified: trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingSphere4ClosestFeatures.cpp
===================================================================
--- trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingSphere4ClosestFeatures.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingBox2InteractingSphere4ClosestFeatures.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -128,4 +128,4 @@
 	return isInteracting;
 }
 
-YADE_PLUGIN(&quot;InteractingBox2InteractingSphere4ClosestFeatures&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingBox2InteractingSphere4ClosestFeatures));
\ No newline at end of file

Modified: trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingSphere2InteractingSphere4ClosestFeatures.cpp
===================================================================
--- trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingSphere2InteractingSphere4ClosestFeatures.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/realtime-rigidbody/Engine/EngineUnit/InteractingSphere2InteractingSphere4ClosestFeatures.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -48,4 +48,4 @@
 	return go(cm1,cm2,se31,se32,c);
 }
 
-YADE_PLUGIN(&quot;InteractingSphere2InteractingSphere4ClosestFeatures&quot;);
\ No newline at end of file
+YADE_PLUGIN((InteractingSphere2InteractingSphere4ClosestFeatures));
\ No newline at end of file

Modified: trunk/pkg/realtime-rigidbody/Engine/StandAloneEngine/FrictionLessElasticContactLaw.cpp
===================================================================
--- trunk/pkg/realtime-rigidbody/Engine/StandAloneEngine/FrictionLessElasticContactLaw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/realtime-rigidbody/Engine/StandAloneEngine/FrictionLessElasticContactLaw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -81,4 +81,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;FrictionLessElasticContactLaw&quot;);
\ No newline at end of file
+YADE_PLUGIN((FrictionLessElasticContactLaw));
\ No newline at end of file

Modified: trunk/pkg/realtime-rigidbody/PreProcessor/BoxStack.cpp
===================================================================
--- trunk/pkg/realtime-rigidbody/PreProcessor/BoxStack.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/realtime-rigidbody/PreProcessor/BoxStack.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -296,4 +296,4 @@
 	rootBody-&gt;physicalParameters 		= physics;
 }
 
-YADE_PLUGIN(&quot;BoxStack&quot;);
\ No newline at end of file
+YADE_PLUGIN((BoxStack));
\ No newline at end of file

Modified: trunk/pkg/realtime-rigidbody/PreProcessor/RotatingBox.cpp
===================================================================
--- trunk/pkg/realtime-rigidbody/PreProcessor/RotatingBox.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/realtime-rigidbody/PreProcessor/RotatingBox.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -317,4 +317,4 @@
 }
 
 
-YADE_PLUGIN(&quot;RotatingBox&quot;);
+YADE_PLUGIN((RotatingBox));
\ No newline at end of file

Modified: trunk/pkg/snow/DataClass/BshSnowGrain.cpp
===================================================================
--- trunk/pkg/snow/DataClass/BshSnowGrain.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/DataClass/BshSnowGrain.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -602,5 +602,4 @@
 	return depth;
 }
 
-YADE_PLUGIN(&quot;BshSnowGrain&quot;,&quot;Grrrr&quot;);
-
+YADE_PLUGIN((BshSnowGrain)(Grrrr));

Modified: trunk/pkg/snow/DataClass/BshSnowGrain.hpp
===================================================================
--- trunk/pkg/snow/DataClass/BshSnowGrain.hpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/DataClass/BshSnowGrain.hpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -21,7 +21,7 @@
 		Grrrr(){};
 		Grrrr(std::vector&lt;Vector3r&gt;&amp; g):grr(g){};
 	protected :
-		REGISTER_ATTRIBUTES(/* */, (grr));
+		REGISTER_ATTRIBUTES(Serializable, (grr));
 	REGISTER_CLASS_NAME(Grrrr);
 	REGISTER_BASE_CLASS_NAME(Serializable);
 };
@@ -76,9 +76,9 @@
 		Real calc_depth(size_t);
 		bool is_point_orthogonally_projected_on_triangle(Vector3r&amp; a,Vector3r&amp; b,Vector3r c,Vector3r&amp; N,Vector3r&amp; P,Real point_plane_distance = 0.0);
 
-		friend class boost::serialization::access;
+		// friend class boost::serialization::access;
 		template&lt;class Archive&gt;
-		void serialize(Archive &amp; ar, unsigned int version)
+		void serialize_REMOVED(Archive &amp; ar, unsigned int version)
 		{
 			//boost::mutex::scoped_lock scoped_lock(m_voxel_envelope_mutex);
 			ar &amp; layer_distance;

Modified: trunk/pkg/snow/DataClass/BssSnowGrain.cpp
===================================================================
--- trunk/pkg/snow/DataClass/BssSnowGrain.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/DataClass/BssSnowGrain.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -58,4 +58,4 @@
 }
 
 
-YADE_PLUGIN(&quot;BssSnowGrain&quot;);
+YADE_PLUGIN((BssSnowGrain));
\ No newline at end of file

Modified: trunk/pkg/snow/Engine/Ef2_BssSnowGrain_AABB_makeAABB.cpp
===================================================================
--- trunk/pkg/snow/Engine/Ef2_BssSnowGrain_AABB_makeAABB.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/Engine/Ef2_BssSnowGrain_AABB_makeAABB.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -63,4 +63,4 @@
 */
 }
 	
-YADE_PLUGIN(&quot;Ef2_BssSnowGrain_AABB_makeAABB&quot;);
\ No newline at end of file
+YADE_PLUGIN((Ef2_BssSnowGrain_AABB_makeAABB));
\ No newline at end of file

Modified: trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeIstSnowLayersContact.cpp
===================================================================
--- trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeIstSnowLayersContact.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeIstSnowLayersContact.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -450,4 +450,4 @@
 //	return result;
 }
 
-YADE_PLUGIN(&quot;Ef2_BssSnowGrain_BssSnowGrain_makeIstSnowLayersContact&quot;);
+YADE_PLUGIN((Ef2_BssSnowGrain_BssSnowGrain_makeIstSnowLayersContact));
\ No newline at end of file

Modified: trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeSpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeSpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/Engine/Ef2_BssSnowGrain_BssSnowGrain_makeSpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -84,4 +84,4 @@
 	return result;
 }
 
-YADE_PLUGIN(&quot;Ef2_BssSnowGrain_BssSnowGrain_makeSpheresContactGeometry&quot;);
+YADE_PLUGIN((Ef2_BssSnowGrain_BssSnowGrain_makeSpheresContactGeometry));
\ No newline at end of file

Modified: trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeIstSnowLayersContact.cpp
===================================================================
--- trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeIstSnowLayersContact.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeIstSnowLayersContact.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -448,4 +448,4 @@
 
 }
 
-YADE_PLUGIN(&quot;Ef2_InteractingBox_BssSnowGrain_makeIstSnowLayersContact&quot;);
+YADE_PLUGIN((Ef2_InteractingBox_BssSnowGrain_makeIstSnowLayersContact));
\ No newline at end of file

Modified: trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeSpheresContactGeometry.cpp
===================================================================
--- trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeSpheresContactGeometry.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/Engine/Ef2_InteractingBox_BssSnowGrain_makeSpheresContactGeometry.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -83,4 +83,4 @@
 	return result;
 }
 
-YADE_PLUGIN(&quot;Ef2_InteractingBox_BssSnowGrain_makeSpheresContactGeometry&quot;);
+YADE_PLUGIN((Ef2_InteractingBox_BssSnowGrain_makeSpheresContactGeometry));
\ No newline at end of file

Modified: trunk/pkg/snow/Engine/ElawSnowLayersDeformation.cpp
===================================================================
--- trunk/pkg/snow/Engine/ElawSnowLayersDeformation.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/Engine/ElawSnowLayersDeformation.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -172,4 +172,4 @@
 	}
 }
 
-YADE_PLUGIN(&quot;ElawSnowLayersDeformation&quot;);
+YADE_PLUGIN((ElawSnowLayersDeformation));
\ No newline at end of file

Modified: trunk/pkg/snow/PreProcessor/SnowCreepTest.cpp
===================================================================
--- trunk/pkg/snow/PreProcessor/SnowCreepTest.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/PreProcessor/SnowCreepTest.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -709,4 +709,4 @@
 
 
 
-YADE_PLUGIN(&quot;SnowCreepTest&quot;);
+YADE_PLUGIN((SnowCreepTest));
\ No newline at end of file

Modified: trunk/pkg/snow/PreProcessor/SnowVoxelsLoader.cpp
===================================================================
--- trunk/pkg/snow/PreProcessor/SnowVoxelsLoader.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/PreProcessor/SnowVoxelsLoader.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -79,7 +79,8 @@
 #include&quot;Voxel/VoxelEnvelope.cpp&quot;
 
 
-YADE_PLUGIN(&quot;SnowVoxelsLoader&quot;);
+YADE_PLUGIN((SnowVoxelsLoader));
+
 SnowVoxelsLoader::SnowVoxelsLoader() : FileGenerator()
 {
 	voxel_binary_data_file = &quot;/home/janek/32-Snow-white/20-Programy/31-SNOW-read-data/RESULT.bz2&quot;;

Modified: trunk/pkg/snow/RenderingEngine/Ef1_BshSnowGrain_glDraw.cpp
===================================================================
--- trunk/pkg/snow/RenderingEngine/Ef1_BshSnowGrain_glDraw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/RenderingEngine/Ef1_BshSnowGrain_glDraw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -393,4 +393,4 @@
 
 }
 
-YADE_PLUGIN(&quot;Ef1_BshSnowGrain_glDraw&quot;);
+YADE_PLUGIN((Ef1_BshSnowGrain_glDraw));
\ No newline at end of file

Modified: trunk/pkg/snow/RenderingEngine/Ef1_BssSnowGrain_glDraw.cpp
===================================================================
--- trunk/pkg/snow/RenderingEngine/Ef1_BssSnowGrain_glDraw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/RenderingEngine/Ef1_BssSnowGrain_glDraw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -179,5 +179,4 @@
 }
 
 
-YADE_PLUGIN(&quot;Ef1_BssSnowGrain_glDraw&quot;);
-
+YADE_PLUGIN((Ef1_BssSnowGrain_glDraw));

Modified: trunk/pkg/snow/RenderingEngine/Ef1_IstSnowLayersContact_glDraw.cpp
===================================================================
--- trunk/pkg/snow/RenderingEngine/Ef1_IstSnowLayersContact_glDraw.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/pkg/snow/RenderingEngine/Ef1_IstSnowLayersContact_glDraw.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -18,8 +18,7 @@
 	#include &lt;Wm3Plane3.h&gt;
 #endif
 
-YADE_PLUGIN(&quot;Ef1_IstSnowLayersContact_glDraw&quot;);
-
+YADE_PLUGIN((Ef1_IstSnowLayersContact_glDraw));
 /*
 /// all points must share the same plane!
 std::vector&lt;Vector3r&gt; find_boundary(std::vector&lt;Vector3r&gt; points)

Modified: trunk/py/yadeWrapper/yadeWrapper.cpp
===================================================================
--- trunk/py/yadeWrapper/yadeWrapper.cpp	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/py/yadeWrapper/yadeWrapper.cpp	2009-08-03 11:02:11 UTC (rev 1911)
@@ -6,7 +6,6 @@
 #include&lt;unistd.h&gt;
 #include&lt;list&gt;
 
-
 #include&lt;boost/python.hpp&gt;
 #include&lt;boost/python/raw_function.hpp&gt;
 #include&lt;boost/python/suite/indexing/vector_indexing_suite.hpp&gt;
@@ -20,6 +19,8 @@
 #include&lt;boost/foreach.hpp&gt;
 #include&lt;boost/algorithm/string.hpp&gt;
 
+
+
 #include&lt;yade/lib-base/Logging.hpp&gt;
 #include&lt;yade/lib-serialization-xml/XMLFormatManager.hpp&gt;
 #include&lt;yade/core/Omega.hpp&gt;
@@ -470,7 +471,14 @@
 		int numThreads_get(){return 1;}
 		void numThreads_set(int n){ LOG_WARN(&quot;Yade was compiled without openMP support, changing number of threads will have no effect.&quot;); }
 	#endif
-
+	#ifdef YADE_BOOST_SERIALIZATION
+	void saveXML(string filename){
+		std::ofstream ofs(filename.c_str());
+		boost::archive::xml_oarchive oa(ofs);
+		shared_ptr&lt;MetaBody&gt; YadeSimulation=OMEGA.getRootBody();
+		oa &lt;&lt; YadeSimulation;
+	}
+	#endif
 };
 BOOST_PYTHON_MEMBER_FUNCTION_OVERLOADS(omega_run_overloads,run,0,2);
 BOOST_PYTHON_MEMBER_FUNCTION_OVERLOADS(omega_saveTmp_overloads,saveTmp,0,1);
@@ -503,9 +511,7 @@
 }
 
 std::string Serializable_pyStr(const shared_ptr&lt;Serializable&gt;&amp; self) {
-	std::string nameThis=self-&gt;getClassName(),nameRoot=self-&gt;pyRootClassName();
-	if(nameThis==nameRoot) return &quot;&lt;&quot;+nameRoot+&quot;&gt;&quot;;
-	else return &quot;&lt;&quot;+nameThis+&quot; &quot;+nameRoot+&quot;&gt;&quot;;
+	return &quot;&lt;&quot;+self-&gt;getClassName()+&quot; instance at &quot;+lexical_cast&lt;string&gt;(self.get())+&quot;&gt;&quot;;
 }
 
 python::list TimingDeltas_pyData(const shared_ptr&lt;TimingDeltas&gt; self){
@@ -626,6 +632,9 @@
 		.add_property(&quot;timingEnabled&quot;,&amp;pyOmega::timingEnabled_get,&amp;pyOmega::timingEnabled_set,&quot;Globally enable/disable timing services (see documentation of yade.timing).&quot;)
 		.add_property(&quot;bexSyncCount&quot;,&amp;pyOmega::bexSyncCount_get,&amp;pyOmega::bexSyncCount_set,&quot;Counter for number of syncs in BexContainer, for profiling purposes.&quot;)
 		.add_property(&quot;numThreads&quot;,&amp;pyOmega::numThreads_get /* ,&amp;pyOmega::numThreads_set*/ ,&quot;Get maximum number of threads openMP can use.&quot;)
+		#ifdef YADE_BOOST_SERIALIZATION
+			.def(&quot;saveXML&quot;,&amp;pyOmega::saveXML,&quot;[EXPERIMENTAL] function saving to XML file using boost::serialization.&quot;)
+		#endif
 		;
 	python::class_&lt;pyTags&gt;(&quot;TagsWrapper&quot;,python::init&lt;pyTags&amp;&gt;())
 		.def(&quot;__getitem__&quot;,&amp;pyTags::getItem)

Modified: trunk/scripts/fix-plugin-names.py
===================================================================
--- trunk/scripts/fix-plugin-names.py	2009-07-31 14:32:36 UTC (rev 1910)
+++ trunk/scripts/fix-plugin-names.py	2009-08-03 11:02:11 UTC (rev 1911)
@@ -6,11 +6,11 @@
 		modified=False
 		new=[]
 		for l in open(root+'/'+name):
-			m=re.match('(.*)YADE_PLUGIN\(\)(.*)',l)
+			m=re.match('(.*)YADE_PLUGIN\(([^)]*)\)(.*)',l)
 			if m:
 				modified=True
-				plugin=name[:-4] # strip the .cpp
-				new.append(m.group(1)+'YADE_PLUGIN(&quot;'+plugin+'&quot;)'+m.group(2))
+				plugins=''.join(['('+pl.strip()[1:-1]+')' for pl in m.group(2).split(',')])
+				new.append(m.group(1)+'YADE_PLUGIN('+plugins+')'+m.group(3))
 			else: new.append(l)
 		if modified:
 			print root+'/'+name


_______________________________________________
Mailing list: <A HREF="https://launchpad.net/~yade-dev">https://launchpad.net/~yade-dev</A>
Post to     : <A HREF="https://lists.berlios.de/mailman/listinfo/yade-dev">yade-dev at lists.launchpad.net</A>
Unsubscribe : <A HREF="https://launchpad.net/~yade-dev">https://launchpad.net/~yade-dev</A>
More help   : <A HREF="https://help.launchpad.net/ListHelp">https://help.launchpad.net/ListHelp</A>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001321.html">[deprecated list] [Yade-dev] [svn] r1910 - in trunk:	gui/py	pkg/common/Engine/DeusExMachina
</A></li>
	<LI>Next message: <A HREF="001324.html">[deprecated list] [Yade-dev] [svn] r1912 - in trunk: .	lib/factory	pkg/dem/DataClass/InteractionGeometry
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1416">[ date ]</a>
              <a href="thread.html#1416">[ thread ]</a>
              <a href="subject.html#1416">[ subject ]</a>
              <a href="author.html#1416">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/yade-dev">More information about the yade-dev
mailing list</a><br>
</body></html>
